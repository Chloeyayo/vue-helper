"use strict";var lh=Object.defineProperty;var ch=(s,t,e)=>t in s?lh(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var y=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports);var Jr=(s,t,e)=>(ch(s,typeof t!="symbol"?t+"":t,e),e),di=(s,t,e)=>{if(!t.has(s))throw TypeError("Cannot "+e)};var v=(s,t,e)=>(di(s,t,"read from private field"),e?e.call(s):t.get(s)),W=(s,t,e)=>{if(t.has(s))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(s):t.set(s,e)},D=(s,t,e,i)=>(di(s,t,"write to private field"),i?i.call(s,e):t.set(s,e),e);var At=(s,t,e)=>(di(s,t,"access private method"),e);var Je=y(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.getWordAtPosition=C.computeFuncEnhance=C.computeBackspace=C.computeBlockSelect=C.findDefinitionInFile=C.resolveFilePath=C.getDefinitionPath=C.checkNotInTemplate=C.isImportLine=C.getCurrentWordAt=C.matchPreAttr=C.matchPreTag=C.getCloseTagName=C.isCloseTag=C.provideHover=C.getImportSuggestions=C.extractVueProps=C.getElementTagLabels=C.getAttrValueCompletions=C.getAttrCompletions=C.getJsTagCompletions=C.getTagCompletions=C.searchFiles=C.initFrameworks=void 0;var L;try{L=require("../vue-helper-core.node")}catch(s){throw new Error(`Failed to load vue-helper-core.node: ${s.message}`)}function uh(s){return L.initFrameworks(s)}C.initFrameworks=uh;function fh(s,t,e,i,r,n){return L.searchFiles(s,t,e,i,r,n)}C.searchFiles=fh;function dh(s,t,e){return L.getTagCompletions(s,t,e)}C.getTagCompletions=dh;function ph(s,t,e){return L.getJsTagCompletions(s,t,e)}C.getJsTagCompletions=ph;function mh(s,t,e,i){return L.getAttrCompletions(s,t,e,i)}C.getAttrCompletions=mh;function gh(s,t,e,i){return L.getAttrValueCompletions(s,t,e,i)}C.getAttrValueCompletions=gh;function wh(s,t,e){return L.getElementTagLabels(s,t,e)}C.getElementTagLabels=wh;function vh(s){return L.extractVueProps(s)}C.extractVueProps=vh;function yh(s,t,e,i){return L.getImportSuggestions(s,t,e,i)}C.getImportSuggestions=yh;function bh(s,t,e){return L.provideHover(s,t,e)}C.provideHover=bh;function Sh(s){return L.isCloseTag(s)}C.isCloseTag=Sh;function _h(s){return L.getCloseTagName(s)}C.getCloseTagName=_h;function Ch(s){return L.matchPreTag(s)}C.matchPreTag=Ch;function xh(s){return L.matchPreAttr(s)}C.matchPreAttr=xh;function Eh(s,t){return L.getCurrentWordAt(s,t)}C.getCurrentWordAt=Eh;function Rh(s){return L.isImportLine(s)}C.isImportLine=Rh;function Th(s,t){return L.checkNotInTemplate(s,t)}C.checkNotInTemplate=Th;function Oh(s){return L.getDefinitionPath(s)}C.getDefinitionPath=Oh;function Ph(s,t,e,i){return L.resolveFilePath(s,t,e,i)}C.resolveFilePath=Ph;function Ah(s,t,e){return L.findDefinitionInFile(s,t,e)}C.findDefinitionInFile=Ah;function kh(s,t,e){return L.computeBlockSelect(s,t,e)}C.computeBlockSelect=kh;function Fh(s,t,e){return L.computeBackspace(s,t,e)}C.computeBackspace=Fh;function qh(s,t,e,i){return L.computeFuncEnhance(s,t,e,i)}C.computeFuncEnhance=qh;function Lh(s,t,e){return L.getWordAtPosition(s,t,e)}C.getWordAtPosition=Lh});var Yr=y(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});var et=require("vscode"),Kr=Je(),Ke=require("path"),Ye=require("fs"),Xe=Xr(),pi=class{setContext(t,e){et.commands.executeCommand("setContext",t,e)}addInit(t){this.inits.push(t)}resetInit(){this.inits.forEach(t=>{t.init()})}getActiveEditorDir(t){return t.replace(this.projectRootPathReg,"").replace(/[\/|\\]\w*\.\w*$/gi,"")}getVueRelativePath(t,e){let i=Ke.relative(t,e);return i="./"+i,i.replace(/\\/gi,"/")}constructor(t){this.name="vue-helper",this.projectRootPath="",this.prefix={alias:"@",path:"src"},this.tabSize="  ",this.vueFiles=[],this.frameworks=[],this.isTs=!1,this.inits=[],this.context=t,this.projectRootPath=this.getWorkspaceRoot(""),this.projectRootPathReg=new RegExp("^"+this.projectRootPath.replace(/[\\/]/g,"[\\\\/]")),this.config=et.workspace.getConfiguration("vue-helper"),this.tabSize=this.getTabSize();let e=this.config.get("alias");this.prefix.alias=typeof e=="string"?e:"@";let i=this.config.get("componentPrefix");this.prefix.path=typeof i=="string"?i:"src";let r=Ke.join(this.projectRootPath,"tsconfig.json");this.isTs=Ye.existsSync(r),this.detectFrameworks(),this.searchVueFiles(),this.watchFiles();let n=et.window.createStatusBarItem(et.StatusBarAlignment.Right,-99999);n.text="$(extensions-view-icon) helper",n.show(),t.subscriptions.push(n),et.workspace.onDidOpenTextDocument(o=>{this.openDocument(o)})}detectFrameworks(){try{let e=Ke.join(this.projectRootPath,"package.json");if(Xe.outputChannel.appendLine("projectRootPath: "+this.projectRootPath),Ye.existsSync(e)){let i=Ye.readFileSync(e,"utf8");this.frameworks=Kr.initFrameworks(i),Xe.outputChannel.appendLine("detected frameworks: "+JSON.stringify(this.frameworks))}}catch(e){Xe.outputChannel.appendLine("detectFrameworks error: "+e.message),this.frameworks=[]}let t=this.config.get("frameworks");t&&t.length>0&&(this.frameworks=t),Xe.outputChannel.appendLine("final frameworks: "+JSON.stringify(this.frameworks))}searchVueFiles(){let t=this.config.get("componentPoster")||".vue";this.vueFiles=Kr.searchFiles(this.projectRootPath,t,"",!0,this.prefix.alias,this.prefix.path)}watchFiles(){let t=et.workspace.createFileSystemWatcher("**/*.vue");t.onDidCreate(()=>this.searchVueFiles()),t.onDidDelete(()=>this.searchVueFiles()),this.context.subscriptions.push(t)}openDocument(t){let e=t.uri.path.replace(/.*:\//gi,"/"),i=this.projectRootPath.replace(/.*:\//gi,"/");(!this.projectRootPath||!e.includes(i))&&(this.projectRootPath=this.getWorkspaceRoot(t.uri.path),this.projectRootPathReg=new RegExp("^"+this.projectRootPath.replace(/[\\/]/g,"[\\\\/]")),this.isTs=Ye.existsSync(Ke.join(this.projectRootPath,"tsconfig.json")),this.detectFrameworks(),this.searchVueFiles(),this.resetInit())}getWorkspaceRoot(t){var e;let i="";if(((e=et.workspace.workspaceFolders)===null||e===void 0?void 0:e.length)===1)i=et.workspace.workspaceFolders[0].uri.fsPath;else if(et.workspace.workspaceFolders&&et.workspace.workspaceFolders.length>1){if(et.workspace.workspaceFolders.forEach(r=>{t.includes(r.uri.path.replace(/.*:\//gi,"/"))&&(i=r.uri.fsPath)}),!i){let r=et.window.activeTextEditor;if(r){let n=et.workspace.getWorkspaceFolder(r.document.uri);n&&(i=n.uri.fsPath)}}i||(i=et.workspace.workspaceFolders[0].uri.fsPath)}return i}getTabSize(){let t=et.workspace.getConfiguration("editor").get("tabSize")||2;return" ".repeat(t)}};mi.default=pi});var sn=y((_d,en)=>{"use strict";en.exports=Qr;function Qr(s,t,e){s instanceof RegExp&&(s=Zr(s,e)),t instanceof RegExp&&(t=Zr(t,e));var i=tn(s,t,e);return i&&{start:i[0],end:i[1],pre:e.slice(0,i[0]),body:e.slice(i[0]+s.length,i[1]),post:e.slice(i[1]+t.length)}}function Zr(s,t){var e=t.match(s);return e?e[0]:null}Qr.range=tn;function tn(s,t,e){var i,r,n,o,h,a=e.indexOf(s),c=e.indexOf(t,a+1),u=a;if(a>=0&&c>0){if(s===t)return[a,c];for(i=[],n=e.length;u>=0&&!h;)u==a?(i.push(u),a=e.indexOf(s,u+1)):i.length==1?h=[i.pop(),c]:(r=i.pop(),r<n&&(n=r,o=c),c=e.indexOf(t,u+1)),u=a<c&&a>=0?a:c;i.length&&(h=[n,o])}return h}});var un=y((Cd,cn)=>{var rn=sn();cn.exports=Mh;var nn="\0SLASH"+Math.random()+"\0",on="\0OPEN"+Math.random()+"\0",wi="\0CLOSE"+Math.random()+"\0",an="\0COMMA"+Math.random()+"\0",hn="\0PERIOD"+Math.random()+"\0";function gi(s){return parseInt(s,10)==s?parseInt(s,10):s.charCodeAt(0)}function Dh(s){return s.split("\\\\").join(nn).split("\\{").join(on).split("\\}").join(wi).split("\\,").join(an).split("\\.").join(hn)}function jh(s){return s.split(nn).join("\\").split(on).join("{").split(wi).join("}").split(an).join(",").split(hn).join(".")}function ln(s){if(!s)return[""];var t=[],e=rn("{","}",s);if(!e)return s.split(",");var i=e.pre,r=e.body,n=e.post,o=i.split(",");o[o.length-1]+="{"+r+"}";var h=ln(n);return n.length&&(o[o.length-1]+=h.shift(),o.push.apply(o,h)),t.push.apply(t,o),t}function Mh(s){return s?(s.substr(0,2)==="{}"&&(s="\\{\\}"+s.substr(2)),ue(Dh(s),!0).map(jh)):[]}function Nh(s){return"{"+s+"}"}function Ih(s){return/^-?0\d/.test(s)}function Bh(s,t){return s<=t}function Uh(s,t){return s>=t}function ue(s,t){var e=[],i=rn("{","}",s);if(!i)return[s];var r=i.pre,n=i.post.length?ue(i.post,!1):[""];if(/\$$/.test(i.pre))for(var o=0;o<n.length;o++){var h=r+"{"+i.body+"}"+n[o];e.push(h)}else{var a=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),u=a||c,l=i.body.indexOf(",")>=0;if(!u&&!l)return i.post.match(/,.*\}/)?(s=i.pre+"{"+i.body+wi+i.post,ue(s)):[s];var f;if(u)f=i.body.split(/\.\./);else if(f=ln(i.body),f.length===1&&(f=ue(f[0],!1).map(Nh),f.length===1))return n.map(function(xt){return i.pre+f[0]+xt});var d;if(u){var g=gi(f[0]),p=gi(f[1]),m=Math.max(f[0].length,f[1].length),w=f.length==3?Math.abs(gi(f[2])):1,_=Bh,x=p<g;x&&(w*=-1,_=Uh);var S=f.some(Ih);d=[];for(var R=g;_(R,p);R+=w){var P;if(c)P=String.fromCharCode(R),P==="\\"&&(P="");else if(P=String(R),S){var A=m-P.length;if(A>0){var N=new Array(A+1).join("0");R<0?P="-"+N+P.slice(1):P=N+P}}d.push(P)}}else{d=[];for(var q=0;q<f.length;q++)d.push.apply(d,ue(f[q],!1))}for(var q=0;q<d.length;q++)for(var o=0;o<n.length;o++){var h=r+d[q]+n[o];(!t||u||h)&&e.push(h)}}return e}});var fn=y(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.assertValidPattern=void 0;var Wh=1024*64,zh=s=>{if(typeof s!="string")throw new TypeError("invalid pattern");if(s.length>Wh)throw new TypeError("pattern is too long")};Ze.assertValidPattern=zh});var pn=y(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.parseClass=void 0;var $h={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},fe=s=>s.replace(/[[\]\\-]/g,"\\$&"),Gh=s=>s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),dn=s=>s.join(""),Hh=(s,t)=>{let e=t;if(s.charAt(e)!=="[")throw new Error("not in a brace expression");let i=[],r=[],n=e+1,o=!1,h=!1,a=!1,c=!1,u=e,l="";t:for(;n<s.length;){let p=s.charAt(n);if((p==="!"||p==="^")&&n===e+1){c=!0,n++;continue}if(p==="]"&&o&&!a){u=n+1;break}if(o=!0,p==="\\"&&!a){a=!0,n++;continue}if(p==="["&&!a){for(let[m,[w,_,x]]of Object.entries($h))if(s.startsWith(m,n)){if(l)return["$.",!1,s.length-e,!0];n+=m.length,x?r.push(w):i.push(w),h=h||_;continue t}}if(a=!1,l){p>l?i.push(fe(l)+"-"+fe(p)):p===l&&i.push(fe(p)),l="",n++;continue}if(s.startsWith("-]",n+1)){i.push(fe(p+"-")),n+=2;continue}if(s.startsWith("-",n+1)){l=p,n+=2;continue}i.push(fe(p)),n++}if(u<n)return["",!1,0,!1];if(!i.length&&!r.length)return["$.",!1,s.length-e,!0];if(r.length===0&&i.length===1&&/^\\?.$/.test(i[0])&&!c){let p=i[0].length===2?i[0].slice(-1):i[0];return[Gh(p),!1,u-e,!1]}let f="["+(c?"^":"")+dn(i)+"]",d="["+(c?"":"^")+dn(r)+"]";return[i.length&&r.length?"("+f+"|"+d+")":i.length?f:d,h,u-e,!0]};Qe.parseClass=Hh});var es=y(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.unescape=void 0;var Vh=(s,{windowsPathsNoEscape:t=!1}={})=>t?s.replace(/\[([^\/\\])\]/g,"$1"):s.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");ts.unescape=Vh});var bi=y(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.AST=void 0;var Jh=pn(),ss=es(),Kh=new Set(["!","?","+","*","@"]),mn=s=>Kh.has(s),Yh="(?!(?:^|/)\\.\\.?(?:$|/))",is="(?!\\.)",Xh=new Set(["[","."]),Zh=new Set(["..","."]),Qh=new Set("().*{}+?[]^$\\!"),tl=s=>s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),yi="[^/]",gn=yi+"*?",wn=yi+"+?",U,z,Et,j,I,kt,It,Ft,yt,Bt,pe,ns,vn,Zt,rs,me,vi,os,yn,nt=class{constructor(t,e,i={}){W(this,ns);W(this,me);Jr(this,"type");W(this,U,void 0);W(this,z,void 0);W(this,Et,!1);W(this,j,[]);W(this,I,void 0);W(this,kt,void 0);W(this,It,void 0);W(this,Ft,!1);W(this,yt,void 0);W(this,Bt,void 0);W(this,pe,!1);this.type=t,t&&D(this,z,!0),D(this,I,e),D(this,U,v(this,I)?v(v(this,I),U):this),D(this,yt,v(this,U)===this?i:v(v(this,U),yt)),D(this,It,v(this,U)===this?[]:v(v(this,U),It)),t==="!"&&!v(v(this,U),Ft)&&v(this,It).push(this),D(this,kt,v(this,I)?v(v(this,I),j).length:0)}get hasMagic(){if(v(this,z)!==void 0)return v(this,z);for(let t of v(this,j))if(typeof t!="string"&&(t.type||t.hasMagic))return D(this,z,!0);return v(this,z)}toString(){return v(this,Bt)!==void 0?v(this,Bt):this.type?D(this,Bt,this.type+"("+v(this,j).map(t=>String(t)).join("|")+")"):D(this,Bt,v(this,j).map(t=>String(t)).join(""))}push(...t){for(let e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof nt&&v(e,I)===this))throw new Error("invalid part: "+e);v(this,j).push(e)}}toJSON(){let t=this.type===null?v(this,j).slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...v(this,j).map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===v(this,U)||v(v(this,U),Ft)&&v(this,I)?.type==="!")&&t.push({}),t}isStart(){if(v(this,U)===this)return!0;if(!v(this,I)?.isStart())return!1;if(v(this,kt)===0)return!0;let t=v(this,I);for(let e=0;e<v(this,kt);e++){let i=v(t,j)[e];if(!(i instanceof nt&&i.type==="!"))return!1}return!0}isEnd(){if(v(this,U)===this||v(this,I)?.type==="!")return!0;if(!v(this,I)?.isEnd())return!1;if(!this.type)return v(this,I)?.isEnd();let t=v(this,I)?v(v(this,I),j).length:0;return v(this,kt)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let e=new nt(this.type,t);for(let i of v(this,j))e.copyIn(i);return e}static fromGlob(t,e={}){var r;let i=new nt(null,void 0,e);return At(r=nt,Zt,rs).call(r,t,i,0,e),i}toMMPattern(){if(this!==v(this,U))return v(this,U).toMMPattern();let t=this.toString(),[e,i,r,n]=this.toRegExpSource();if(!(r||v(this,z)||v(this,yt).nocase&&!v(this,yt).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return i;let h=(v(this,yt).nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,h),{_src:e,_glob:t})}get options(){return v(this,yt)}toRegExpSource(t){let e=t??!!v(this,yt).dot;if(v(this,U)===this&&At(this,ns,vn).call(this),!this.type){let a=this.isStart()&&this.isEnd(),c=v(this,j).map(d=>{var _;let[g,p,m,w]=typeof d=="string"?At(_=nt,os,yn).call(_,d,v(this,z),a):d.toRegExpSource(t);return D(this,z,v(this,z)||m),D(this,Et,v(this,Et)||w),g}).join(""),u="";if(this.isStart()&&typeof v(this,j)[0]=="string"&&!(v(this,j).length===1&&Zh.has(v(this,j)[0]))){let g=Xh,p=e&&g.has(c.charAt(0))||c.startsWith("\\.")&&g.has(c.charAt(2))||c.startsWith("\\.\\.")&&g.has(c.charAt(4)),m=!e&&!t&&g.has(c.charAt(0));u=p?Yh:m?is:""}let l="";return this.isEnd()&&v(v(this,U),Ft)&&v(this,I)?.type==="!"&&(l="(?:$|\\/)"),[u+c+l,(0,ss.unescape)(c),D(this,z,!!v(this,z)),v(this,Et)]}let i=this.type==="*"||this.type==="+",r=this.type==="!"?"(?:(?!(?:":"(?:",n=At(this,me,vi).call(this,e);if(this.isStart()&&this.isEnd()&&!n&&this.type!=="!"){let a=this.toString();return D(this,j,[a]),this.type=null,D(this,z,void 0),[a,(0,ss.unescape)(this.toString()),!1,!1]}let o=!i||t||e||!is?"":At(this,me,vi).call(this,!0);o===n&&(o=""),o&&(n=`(?:${n})(?:${o})*?`);let h="";if(this.type==="!"&&v(this,pe))h=(this.isStart()&&!e?is:"")+wn;else{let a=this.type==="!"?"))"+(this.isStart()&&!e&&!t?is:"")+gn+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;h=r+n+a}return[h,(0,ss.unescape)(n),D(this,z,!!v(this,z)),v(this,Et)]}},de=nt;U=new WeakMap,z=new WeakMap,Et=new WeakMap,j=new WeakMap,I=new WeakMap,kt=new WeakMap,It=new WeakMap,Ft=new WeakMap,yt=new WeakMap,Bt=new WeakMap,pe=new WeakMap,ns=new WeakSet,vn=function(){if(this!==v(this,U))throw new Error("should only call on root");if(v(this,Ft))return this;this.toString(),D(this,Ft,!0);let t;for(;t=v(this,It).pop();){if(t.type!=="!")continue;let e=t,i=v(e,I);for(;i;){for(let r=v(e,kt)+1;!i.type&&r<v(i,j).length;r++)for(let n of v(t,j)){if(typeof n=="string")throw new Error("string part in extglob AST??");n.copyIn(v(i,j)[r])}e=i,i=v(e,I)}}return this},Zt=new WeakSet,rs=function(t,e,i,r){var d,g;let n=!1,o=!1,h=-1,a=!1;if(e.type===null){let p=i,m="";for(;p<t.length;){let w=t.charAt(p++);if(n||w==="\\"){n=!n,m+=w;continue}if(o){p===h+1?(w==="^"||w==="!")&&(a=!0):w==="]"&&!(p===h+2&&a)&&(o=!1),m+=w;continue}else if(w==="["){o=!0,h=p,a=!1,m+=w;continue}if(!r.noext&&mn(w)&&t.charAt(p)==="("){e.push(m),m="";let _=new nt(w,e);p=At(d=nt,Zt,rs).call(d,t,_,p,r),e.push(_);continue}m+=w}return e.push(m),p}let c=i+1,u=new nt(null,e),l=[],f="";for(;c<t.length;){let p=t.charAt(c++);if(n||p==="\\"){n=!n,f+=p;continue}if(o){c===h+1?(p==="^"||p==="!")&&(a=!0):p==="]"&&!(c===h+2&&a)&&(o=!1),f+=p;continue}else if(p==="["){o=!0,h=c,a=!1,f+=p;continue}if(mn(p)&&t.charAt(c)==="("){u.push(f),f="";let m=new nt(p,u);u.push(m),c=At(g=nt,Zt,rs).call(g,t,m,c,r);continue}if(p==="|"){u.push(f),f="",l.push(u),u=new nt(null,e);continue}if(p===")")return f===""&&v(e,j).length===0&&D(e,pe,!0),u.push(f),f="",e.push(...l,u),c;f+=p}return e.type=null,D(e,z,void 0),D(e,j,[t.substring(i-1)]),c},me=new WeakSet,vi=function(t){return v(this,j).map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");let[i,r,n,o]=e.toRegExpSource(t);return D(this,Et,v(this,Et)||o),i}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")},os=new WeakSet,yn=function(t,e,i=!1){let r=!1,n="",o=!1;for(let h=0;h<t.length;h++){let a=t.charAt(h);if(r){r=!1,n+=(Qh.has(a)?"\\":"")+a;continue}if(a==="\\"){h===t.length-1?n+="\\\\":r=!0;continue}if(a==="["){let[c,u,l,f]=(0,Jh.parseClass)(t,h);if(l){n+=c,o=o||u,h+=l-1,e=e||f;continue}}if(a==="*"){i&&t==="*"?n+=wn:n+=gn,e=!0;continue}if(a==="?"){n+=yi,e=!0;continue}n+=tl(a)}return[n,(0,ss.unescape)(t),!!e,o]},W(de,Zt),W(de,os);as.AST=de});var Si=y(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.escape=void 0;var el=(s,{windowsPathsNoEscape:t=!1}={})=>t?s.replace(/[?*()[\]]/g,"[$&]"):s.replace(/[?*()[\]\\]/g,"\\$&");hs.escape=el});var qt=y(b=>{"use strict";var sl=b&&b.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(b,"__esModule",{value:!0});b.unescape=b.escape=b.AST=b.Minimatch=b.match=b.makeRe=b.braceExpand=b.defaults=b.filter=b.GLOBSTAR=b.sep=b.minimatch=void 0;var il=sl(un()),ls=fn(),_n=bi(),rl=Si(),nl=es(),ol=(s,t,e={})=>((0,ls.assertValidPattern)(t),!e.nocomment&&t.charAt(0)==="#"?!1:new Ut(t,e).match(s));b.minimatch=ol;var al=/^\*+([^+@!?\*\[\(]*)$/,hl=s=>t=>!t.startsWith(".")&&t.endsWith(s),ll=s=>t=>t.endsWith(s),cl=s=>(s=s.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(s)),ul=s=>(s=s.toLowerCase(),t=>t.toLowerCase().endsWith(s)),fl=/^\*+\.\*+$/,dl=s=>!s.startsWith(".")&&s.includes("."),pl=s=>s!=="."&&s!==".."&&s.includes("."),ml=/^\.\*+$/,gl=s=>s!=="."&&s!==".."&&s.startsWith("."),wl=/^\*+$/,vl=s=>s.length!==0&&!s.startsWith("."),yl=s=>s.length!==0&&s!=="."&&s!=="..",bl=/^\?+([^+@!?\*\[\(]*)?$/,Sl=([s,t=""])=>{let e=Cn([s]);return t?(t=t.toLowerCase(),i=>e(i)&&i.toLowerCase().endsWith(t)):e},_l=([s,t=""])=>{let e=xn([s]);return t?(t=t.toLowerCase(),i=>e(i)&&i.toLowerCase().endsWith(t)):e},Cl=([s,t=""])=>{let e=xn([s]);return t?i=>e(i)&&i.endsWith(t):e},xl=([s,t=""])=>{let e=Cn([s]);return t?i=>e(i)&&i.endsWith(t):e},Cn=([s])=>{let t=s.length;return e=>e.length===t&&!e.startsWith(".")},xn=([s])=>{let t=s.length;return e=>e.length===t&&e!=="."&&e!==".."},En=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",bn={win32:{sep:"\\"},posix:{sep:"/"}};b.sep=En==="win32"?bn.win32.sep:bn.posix.sep;b.minimatch.sep=b.sep;b.GLOBSTAR=Symbol("globstar **");b.minimatch.GLOBSTAR=b.GLOBSTAR;var El="[^/]",Rl=El+"*?",Tl="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Ol="(?:(?!(?:\\/|^)\\.).)*?",Pl=(s,t={})=>e=>(0,b.minimatch)(e,s,t);b.filter=Pl;b.minimatch.filter=b.filter;var lt=(s,t={})=>Object.assign({},s,t),Al=s=>{if(!s||typeof s!="object"||!Object.keys(s).length)return b.minimatch;let t=b.minimatch;return Object.assign((i,r,n={})=>t(i,r,lt(s,n)),{Minimatch:class extends t.Minimatch{constructor(r,n={}){super(r,lt(s,n))}static defaults(r){return t.defaults(lt(s,r)).Minimatch}},AST:class extends t.AST{constructor(r,n,o={}){super(r,n,lt(s,o))}static fromGlob(r,n={}){return t.AST.fromGlob(r,lt(s,n))}},unescape:(i,r={})=>t.unescape(i,lt(s,r)),escape:(i,r={})=>t.escape(i,lt(s,r)),filter:(i,r={})=>t.filter(i,lt(s,r)),defaults:i=>t.defaults(lt(s,i)),makeRe:(i,r={})=>t.makeRe(i,lt(s,r)),braceExpand:(i,r={})=>t.braceExpand(i,lt(s,r)),match:(i,r,n={})=>t.match(i,r,lt(s,n)),sep:t.sep,GLOBSTAR:b.GLOBSTAR})};b.defaults=Al;b.minimatch.defaults=b.defaults;var kl=(s,t={})=>((0,ls.assertValidPattern)(s),t.nobrace||!/\{(?:(?!\{).)*\}/.test(s)?[s]:(0,il.default)(s));b.braceExpand=kl;b.minimatch.braceExpand=b.braceExpand;var Fl=(s,t={})=>new Ut(s,t).makeRe();b.makeRe=Fl;b.minimatch.makeRe=b.makeRe;var ql=(s,t,e={})=>{let i=new Ut(t,e);return s=s.filter(r=>i.match(r)),i.options.nonull&&!s.length&&s.push(t),s};b.match=ql;b.minimatch.match=b.match;var Sn=/[?*]|[+@!]\(.*?\)|\[|\]/,Ll=s=>s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ut=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){(0,ls.assertValidPattern)(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||En,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=e.windowsNoMagicRoot!==void 0?e.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let e of t)if(typeof e!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...n)=>console.error(...n)),this.debug(this.pattern,this.globSet);let i=this.globSet.map(n=>this.slashSplit(n));this.globParts=this.preprocess(i),this.debug(this.pattern,this.globParts);let r=this.globParts.map((n,o,h)=>{if(this.isWindows&&this.windowsNoMagicRoot){let a=n[0]===""&&n[1]===""&&(n[2]==="?"||!Sn.test(n[2]))&&!Sn.test(n[3]),c=/^[a-z]:/i.test(n[0]);if(a)return[...n.slice(0,4),...n.slice(4).map(u=>this.parse(u))];if(c)return[n[0],...n.slice(1).map(u=>this.parse(u))]}return n.map(a=>this.parse(a))});if(this.debug(this.pattern,r),this.set=r.filter(n=>n.indexOf(!1)===-1),this.isWindows)for(let n=0;n<this.set.length;n++){let o=this.set[n];o[0]===""&&o[1]===""&&this.globParts[n][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let i=0;i<t.length;i++)for(let r=0;r<t[i].length;r++)t[i][r]==="**"&&(t[i][r]="*");let{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):e>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(e=>{let i=-1;for(;(i=e.indexOf("**",i+1))!==-1;){let r=i;for(;e[r+1]==="**";)r++;r!==i&&e.splice(i,r-i)}return e})}levelOneOptimize(t){return t.map(e=>(e=e.reduce((i,r)=>{let n=i[i.length-1];return r==="**"&&n==="**"?i:r===".."&&n&&n!==".."&&n!=="."&&n!=="**"?(i.pop(),i):(i.push(r),i)},[]),e.length===0?[""]:e))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let r=1;r<t.length-1;r++){let n=t[r];r===1&&n===""&&t[0]===""||(n==="."||n==="")&&(e=!0,t.splice(r,1),r--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(e=!0,t.pop())}let i=0;for(;(i=t.indexOf("..",i+1))!==-1;){let r=t[i-1];r&&r!=="."&&r!==".."&&r!=="**"&&(e=!0,t.splice(i-1,2),i-=2)}}while(e);return t.length===0?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let i of t){let r=-1;for(;(r=i.indexOf("**",r+1))!==-1;){let o=r;for(;i[o+1]==="**";)o++;o>r&&i.splice(r+1,o-r);let h=i[r+1],a=i[r+2],c=i[r+3];if(h!==".."||!a||a==="."||a===".."||!c||c==="."||c==="..")continue;e=!0,i.splice(r,1);let u=i.slice(0);u[r]="**",t.push(u),r--}if(!this.preserveMultipleSlashes){for(let o=1;o<i.length-1;o++){let h=i[o];o===1&&h===""&&i[0]===""||(h==="."||h==="")&&(e=!0,i.splice(o,1),o--)}i[0]==="."&&i.length===2&&(i[1]==="."||i[1]==="")&&(e=!0,i.pop())}let n=0;for(;(n=i.indexOf("..",n+1))!==-1;){let o=i[n-1];if(o&&o!=="."&&o!==".."&&o!=="**"){e=!0;let a=n===1&&i[n+1]==="**"?["."]:[];i.splice(n-1,2,...a),i.length===0&&i.push(""),n-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let i=e+1;i<t.length;i++){let r=this.partsMatch(t[e],t[i],!this.preserveMultipleSlashes);!r||(t[e]=r,t[i]=[])}return t.filter(e=>e.length)}partsMatch(t,e,i=!1){let r=0,n=0,o=[],h="";for(;r<t.length&&n<e.length;)if(t[r]===e[n])o.push(h==="b"?e[n]:t[r]),r++,n++;else if(i&&t[r]==="**"&&e[n]===t[r+1])o.push(t[r]),r++;else if(i&&e[n]==="**"&&t[r]===e[n+1])o.push(e[n]),n++;else if(t[r]==="*"&&e[n]&&(this.options.dot||!e[n].startsWith("."))&&e[n]!=="**"){if(h==="b")return!1;h="a",o.push(t[r]),r++,n++}else if(e[n]==="*"&&t[r]&&(this.options.dot||!t[r].startsWith("."))&&t[r]!=="**"){if(h==="a")return!1;h="b",o.push(e[n]),r++,n++}else return!1;return t.length===e.length&&o}parseNegate(){if(this.nonegate)return;let t=this.pattern,e=!1,i=0;for(let r=0;r<t.length&&t.charAt(r)==="!";r++)e=!e,i++;i&&(this.pattern=t.slice(i)),this.negate=e}matchOne(t,e,i=!1){let r=this.options;if(this.isWindows){let p=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),m=!p&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),w=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),_=!w&&e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3]),x=m?3:p?0:void 0,S=_?3:w?0:void 0;if(typeof x=="number"&&typeof S=="number"){let[R,P]=[t[x],e[S]];R.toLowerCase()===P.toLowerCase()&&(e[S]=R,S>x?e=e.slice(S):x>S&&(t=t.slice(x)))}}let{optimizationLevel:n=1}=this.options;n>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,h=0,a=t.length,c=e.length;o<a&&h<c;o++,h++){this.debug("matchOne loop");var u=e[h],l=t[o];if(this.debug(e,u,l),u===!1)return!1;if(u===b.GLOBSTAR){this.debug("GLOBSTAR",[e,u,l]);var f=o,d=h+1;if(d===c){for(this.debug("** at the end");o<a;o++)if(t[o]==="."||t[o]===".."||!r.dot&&t[o].charAt(0)===".")return!1;return!0}for(;f<a;){var g=t[f];if(this.debug(`
globstar while`,t,f,e,d,g),this.matchOne(t.slice(f),e.slice(d),i))return this.debug("globstar found match!",f,a,g),!0;if(g==="."||g===".."||!r.dot&&g.charAt(0)==="."){this.debug("dot detected!",t,f,e,d);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(i&&(this.debug(`
>>> no match, partial?`,t,f,e,d),f===a))}let p;if(typeof u=="string"?(p=l===u,this.debug("string match",u,l,p)):(p=u.test(l),this.debug("pattern match",u,l,p)),!p)return!1}if(o===a&&h===c)return!0;if(o===a)return i;if(h===c)return o===a-1&&t[o]==="";throw new Error("wtf?")}braceExpand(){return(0,b.braceExpand)(this.pattern,this.options)}parse(t){(0,ls.assertValidPattern)(t);let e=this.options;if(t==="**")return b.GLOBSTAR;if(t==="")return"";let i,r=null;(i=t.match(wl))?r=e.dot?yl:vl:(i=t.match(al))?r=(e.nocase?e.dot?ul:cl:e.dot?ll:hl)(i[1]):(i=t.match(bl))?r=(e.nocase?e.dot?_l:Sl:e.dot?Cl:xl)(i):(i=t.match(fl))?r=e.dot?pl:dl:(i=t.match(ml))&&(r=gl);let n=_n.AST.fromGlob(t,this.options).toMMPattern();return r&&typeof n=="object"&&Reflect.defineProperty(n,"test",{value:r}),n}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let e=this.options,i=e.noglobstar?Rl:e.dot?Tl:Ol,r=new Set(e.nocase?["i"]:[]),n=t.map(a=>{let c=a.map(u=>{if(u instanceof RegExp)for(let l of u.flags.split(""))r.add(l);return typeof u=="string"?Ll(u):u===b.GLOBSTAR?b.GLOBSTAR:u._src});return c.forEach((u,l)=>{let f=c[l+1],d=c[l-1];u!==b.GLOBSTAR||d===b.GLOBSTAR||(d===void 0?f!==void 0&&f!==b.GLOBSTAR?c[l+1]="(?:\\/|"+i+"\\/)?"+f:c[l]=i:f===void 0?c[l-1]=d+"(?:\\/|"+i+")?":f!==b.GLOBSTAR&&(c[l-1]=d+"(?:\\/|\\/"+i+"\\/)"+f,c[l+1]=b.GLOBSTAR))}),c.filter(u=>u!==b.GLOBSTAR).join("/")}).join("|"),[o,h]=t.length>1?["(?:",")"]:["",""];n="^"+o+n+h+"$",this.negate&&(n="^(?!"+n+").+$");try{this.regexp=new RegExp(n,[...r].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;let i=this.options;this.isWindows&&(t=t.split("\\").join("/"));let r=this.slashSplit(t);this.debug(this.pattern,"split",r);let n=this.set;this.debug(this.pattern,"set",n);let o=r[r.length-1];if(!o)for(let h=r.length-2;!o&&h>=0;h--)o=r[h];for(let h=0;h<n.length;h++){let a=n[h],c=r;if(i.matchBase&&a.length===1&&(c=[o]),this.matchOne(c,a,e))return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate}static defaults(t){return b.minimatch.defaults(t).Minimatch}};b.Minimatch=Ut;var Dl=bi();Object.defineProperty(b,"AST",{enumerable:!0,get:function(){return Dl.AST}});var jl=Si();Object.defineProperty(b,"escape",{enumerable:!0,get:function(){return jl.escape}});var Ml=es();Object.defineProperty(b,"unescape",{enumerable:!0,get:function(){return Ml.unescape}});b.minimatch.AST=_n.AST;b.minimatch.Minimatch=Ut;b.minimatch.escape=rl.escape;b.minimatch.unescape=nl.unescape});var An=y(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.LRUCache=void 0;var Qt=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Tn=new Set,_i=typeof process=="object"&&!!process?process:{},On=(s,t,e,i)=>{typeof _i.emitWarning=="function"?_i.emitWarning(s,t,e,i):console.error(`[${e}] ${t}: ${s}`)},us=globalThis.AbortController,Rn=globalThis.AbortSignal;if(typeof us>"u"){Rn=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,r){this._onabort.push(r)}},us=class{constructor(){t()}signal=new Rn;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(let r of this.signal._onabort)r(i);this.signal.onabort?.(i)}}};let s=_i.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",t=()=>{!s||(s=!1,On("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var Nl=s=>!Tn.has(s),Dd=Symbol("type"),Lt=s=>s&&s===Math.floor(s)&&s>0&&isFinite(s),Pn=s=>Lt(s)?s<=Math.pow(2,8)?Uint8Array:s<=Math.pow(2,16)?Uint16Array:s<=Math.pow(2,32)?Uint32Array:s<=Number.MAX_SAFE_INTEGER?ee:null:null,ee=class extends Array{constructor(t){super(t),this.fill(0)}},se,te=class{heap;length;static create(t){let e=Pn(t);if(!e)return[];D(te,se,!0);let i=new te(t,e);return D(te,se,!1),i}constructor(t,e){if(!v(te,se))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},cs=te;se=new WeakMap,W(cs,se,!1);var ge=class{#e;#r;#i;#a;#u;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#p;#h;#n;#t;#g;#y;#m;#f;#x;#d;#E;#R;#b;#v;#O;#c;static unsafeExposeInternals(t){return{starts:t.#R,ttls:t.#b,sizes:t.#E,keyMap:t.#h,keyList:t.#n,valList:t.#t,next:t.#g,prev:t.#y,get head(){return t.#m},get tail(){return t.#f},free:t.#x,isBackgroundFetch:e=>t.#o(e),backgroundFetch:(e,i,r,n)=>t.#L(e,i,r,n),moveToTail:e=>t.#q(e),indexes:e=>t.#C(e),rindexes:e=>t.#P(e),isStale:e=>t.#w(e)}}get max(){return this.#e}get maxSize(){return this.#r}get calculatedSize(){return this.#p}get size(){return this.#l}get fetchMethod(){return this.#u}get dispose(){return this.#i}get disposeAfter(){return this.#a}constructor(t){let{max:e=0,ttl:i,ttlResolution:r=1,ttlAutopurge:n,updateAgeOnGet:o,updateAgeOnHas:h,allowStale:a,dispose:c,disposeAfter:u,noDisposeOnSet:l,noUpdateTTL:f,maxSize:d=0,maxEntrySize:g=0,sizeCalculation:p,fetchMethod:m,noDeleteOnFetchRejection:w,noDeleteOnStaleGet:_,allowStaleOnFetchRejection:x,allowStaleOnFetchAbort:S,ignoreFetchAbort:R}=t;if(e!==0&&!Lt(e))throw new TypeError("max option must be a nonnegative integer");let P=e?Pn(e):Array;if(!P)throw new Error("invalid max value: "+e);if(this.#e=e,this.#r=d,this.maxEntrySize=g||this.#r,this.sizeCalculation=p,this.sizeCalculation){if(!this.#r&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(m!==void 0&&typeof m!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#u=m,this.#O=!!m,this.#h=new Map,this.#n=new Array(e).fill(void 0),this.#t=new Array(e).fill(void 0),this.#g=new P(e),this.#y=new P(e),this.#m=0,this.#f=0,this.#x=cs.create(e),this.#l=0,this.#p=0,typeof c=="function"&&(this.#i=c),typeof u=="function"?(this.#a=u,this.#d=[]):(this.#a=void 0,this.#d=void 0),this.#v=!!this.#i,this.#c=!!this.#a,this.noDisposeOnSet=!!l,this.noUpdateTTL=!!f,this.noDeleteOnFetchRejection=!!w,this.allowStaleOnFetchRejection=!!x,this.allowStaleOnFetchAbort=!!S,this.ignoreFetchAbort=!!R,this.maxEntrySize!==0){if(this.#r!==0&&!Lt(this.#r))throw new TypeError("maxSize must be a positive integer if specified");if(!Lt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#k()}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!_,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!h,this.ttlResolution=Lt(r)||r===0?r:1,this.ttlAutopurge=!!n,this.ttl=i||0,this.ttl){if(!Lt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#A()}if(this.#e===0&&this.ttl===0&&this.#r===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#r){let A="LRU_CACHE_UNBOUNDED";Nl(A)&&(Tn.add(A),On("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",A,ge))}}getRemainingTTL(t){return this.#h.has(t)?1/0:0}#A(){let t=new ee(this.#e),e=new ee(this.#e);this.#b=t,this.#R=e,this.#s=(n,o,h=Qt.now())=>{if(e[n]=o!==0?h:0,t[n]=o,o!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.#w(n)&&this.delete(this.#n[n])},o+1);a.unref&&a.unref()}},this.#T=n=>{e[n]=t[n]!==0?Qt.now():0},this.#S=(n,o)=>{if(t[o]){let h=t[o],a=e[o];if(!h||!a)return;n.ttl=h,n.start=a,n.now=i||r();let c=n.now-a;n.remainingTTL=h-c}};let i=0,r=()=>{let n=Qt.now();if(this.ttlResolution>0){i=n;let o=setTimeout(()=>i=0,this.ttlResolution);o.unref&&o.unref()}return n};this.getRemainingTTL=n=>{let o=this.#h.get(n);if(o===void 0)return 0;let h=t[o],a=e[o];if(!h||!a)return 1/0;let c=(i||r())-a;return h-c},this.#w=n=>{let o=e[n],h=t[n];return!!h&&!!o&&(i||r())-o>h}}#T=()=>{};#S=()=>{};#s=()=>{};#w=()=>!1;#k(){let t=new ee(this.#e);this.#p=0,this.#E=t,this.#_=e=>{this.#p-=t[e],t[e]=0},this.#j=(e,i,r,n)=>{if(this.#o(i))return 0;if(!Lt(r))if(n){if(typeof n!="function")throw new TypeError("sizeCalculation must be a function");if(r=n(i,e),!Lt(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return r},this.#D=(e,i,r)=>{if(t[e]=i,this.#r){let n=this.#r-t[e];for(;this.#p>n;)this.#F(!0)}this.#p+=t[e],r&&(r.entrySize=i,r.totalCalculatedSize=this.#p)}}#_=t=>{};#D=(t,e,i)=>{};#j=(t,e,i,r)=>{if(i||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#C({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#f;!(!this.#M(e)||((t||!this.#w(e))&&(yield e),e===this.#m));)e=this.#y[e]}*#P({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#m;!(!this.#M(e)||((t||!this.#w(e))&&(yield e),e===this.#f));)e=this.#g[e]}#M(t){return t!==void 0&&this.#h.get(this.#n[t])===t}*entries(){for(let t of this.#C())this.#t[t]!==void 0&&this.#n[t]!==void 0&&!this.#o(this.#t[t])&&(yield[this.#n[t],this.#t[t]])}*rentries(){for(let t of this.#P())this.#t[t]!==void 0&&this.#n[t]!==void 0&&!this.#o(this.#t[t])&&(yield[this.#n[t],this.#t[t]])}*keys(){for(let t of this.#C()){let e=this.#n[t];e!==void 0&&!this.#o(this.#t[t])&&(yield e)}}*rkeys(){for(let t of this.#P()){let e=this.#n[t];e!==void 0&&!this.#o(this.#t[t])&&(yield e)}}*values(){for(let t of this.#C())this.#t[t]!==void 0&&!this.#o(this.#t[t])&&(yield this.#t[t])}*rvalues(){for(let t of this.#P())this.#t[t]!==void 0&&!this.#o(this.#t[t])&&(yield this.#t[t])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(let i of this.#C()){let r=this.#t[i],n=this.#o(r)?r.__staleWhileFetching:r;if(n!==void 0&&t(n,this.#n[i],this))return this.get(this.#n[i],e)}}forEach(t,e=this){for(let i of this.#C()){let r=this.#t[i],n=this.#o(r)?r.__staleWhileFetching:r;n!==void 0&&t.call(e,n,this.#n[i],this)}}rforEach(t,e=this){for(let i of this.#P()){let r=this.#t[i],n=this.#o(r)?r.__staleWhileFetching:r;n!==void 0&&t.call(e,n,this.#n[i],this)}}purgeStale(){let t=!1;for(let e of this.#P({allowStale:!0}))this.#w(e)&&(this.delete(this.#n[e]),t=!0);return t}info(t){let e=this.#h.get(t);if(e===void 0)return;let i=this.#t[e],r=this.#o(i)?i.__staleWhileFetching:i;if(r===void 0)return;let n={value:r};if(this.#b&&this.#R){let o=this.#b[e],h=this.#R[e];if(o&&h){let a=o-(Qt.now()-h);n.ttl=a,n.start=Date.now()}}return this.#E&&(n.size=this.#E[e]),n}dump(){let t=[];for(let e of this.#C({allowStale:!0})){let i=this.#n[e],r=this.#t[e],n=this.#o(r)?r.__staleWhileFetching:r;if(n===void 0||i===void 0)continue;let o={value:n};if(this.#b&&this.#R){o.ttl=this.#b[e];let h=Qt.now()-this.#R[e];o.start=Math.floor(Date.now()-h)}this.#E&&(o.size=this.#E[e]),t.unshift([i,o])}return t}load(t){this.clear();for(let[e,i]of t){if(i.start){let r=Date.now()-i.start;i.start=Qt.now()-r}this.set(e,i.value,i)}}set(t,e,i={}){if(e===void 0)return this.delete(t),this;let{ttl:r=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:h=this.sizeCalculation,status:a}=i,{noUpdateTTL:c=this.noUpdateTTL}=i,u=this.#j(t,e,i.size||0,h);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(t),this;let l=this.#l===0?void 0:this.#h.get(t);if(l===void 0)l=this.#l===0?this.#f:this.#x.length!==0?this.#x.pop():this.#l===this.#e?this.#F(!1):this.#l,this.#n[l]=t,this.#t[l]=e,this.#h.set(t,l),this.#g[this.#f]=l,this.#y[l]=this.#f,this.#f=l,this.#l++,this.#D(l,u,a),a&&(a.set="add"),c=!1;else{this.#q(l);let f=this.#t[l];if(e!==f){if(this.#O&&this.#o(f)){f.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:d}=f;d!==void 0&&!o&&(this.#v&&this.#i?.(d,t,"set"),this.#c&&this.#d?.push([d,t,"set"]))}else o||(this.#v&&this.#i?.(f,t,"set"),this.#c&&this.#d?.push([f,t,"set"]));if(this.#_(l),this.#D(l,u,a),this.#t[l]=e,a){a.set="replace";let d=f&&this.#o(f)?f.__staleWhileFetching:f;d!==void 0&&(a.oldValue=d)}}else a&&(a.set="update")}if(r!==0&&!this.#b&&this.#A(),this.#b&&(c||this.#s(l,r,n),a&&this.#S(a,l)),!o&&this.#c&&this.#d){let f=this.#d,d;for(;d=f?.shift();)this.#a?.(...d)}return this}pop(){try{for(;this.#l;){let t=this.#t[this.#m];if(this.#F(!0),this.#o(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#c&&this.#d){let t=this.#d,e;for(;e=t?.shift();)this.#a?.(...e)}}}#F(t){let e=this.#m,i=this.#n[e],r=this.#t[e];return this.#O&&this.#o(r)?r.__abortController.abort(new Error("evicted")):(this.#v||this.#c)&&(this.#v&&this.#i?.(r,i,"evict"),this.#c&&this.#d?.push([r,i,"evict"])),this.#_(e),t&&(this.#n[e]=void 0,this.#t[e]=void 0,this.#x.push(e)),this.#l===1?(this.#m=this.#f=0,this.#x.length=0):this.#m=this.#g[e],this.#h.delete(i),this.#l--,e}has(t,e={}){let{updateAgeOnHas:i=this.updateAgeOnHas,status:r}=e,n=this.#h.get(t);if(n!==void 0){let o=this.#t[n];if(this.#o(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#w(n))r&&(r.has="stale",this.#S(r,n));else return i&&this.#T(n),r&&(r.has="hit",this.#S(r,n)),!0}else r&&(r.has="miss");return!1}peek(t,e={}){let{allowStale:i=this.allowStale}=e,r=this.#h.get(t);if(r===void 0||!i&&this.#w(r))return;let n=this.#t[r];return this.#o(n)?n.__staleWhileFetching:n}#L(t,e,i,r){let n=e===void 0?void 0:this.#t[e];if(this.#o(n))return n;let o=new us,{signal:h}=i;h?.addEventListener("abort",()=>o.abort(h.reason),{signal:o.signal});let a={signal:o.signal,options:i,context:r},c=(p,m=!1)=>{let{aborted:w}=o.signal,_=i.ignoreFetchAbort&&p!==void 0;if(i.status&&(w&&!m?(i.status.fetchAborted=!0,i.status.fetchError=o.signal.reason,_&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),w&&!_&&!m)return l(o.signal.reason);let x=d;return this.#t[e]===d&&(p===void 0?x.__staleWhileFetching?this.#t[e]=x.__staleWhileFetching:this.delete(t):(i.status&&(i.status.fetchUpdated=!0),this.set(t,p,a.options))),p},u=p=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=p),l(p)),l=p=>{let{aborted:m}=o.signal,w=m&&i.allowStaleOnFetchAbort,_=w||i.allowStaleOnFetchRejection,x=_||i.noDeleteOnFetchRejection,S=d;if(this.#t[e]===d&&(!x||S.__staleWhileFetching===void 0?this.delete(t):w||(this.#t[e]=S.__staleWhileFetching)),_)return i.status&&S.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),S.__staleWhileFetching;if(S.__returned===S)throw p},f=(p,m)=>{let w=this.#u?.(t,n,a);w&&w instanceof Promise&&w.then(_=>p(_===void 0?void 0:_),m),o.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(p(void 0),i.allowStaleOnFetchAbort&&(p=_=>c(_,!0)))})};i.status&&(i.status.fetchDispatched=!0);let d=new Promise(f).then(c,u),g=Object.assign(d,{__abortController:o,__staleWhileFetching:n,__returned:void 0});return e===void 0?(this.set(t,g,{...a.options,status:void 0}),e=this.#h.get(t)):this.#t[e]=g,g}#o(t){if(!this.#O)return!1;let e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof us}async fetch(t,e={}){let{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:h=this.noDisposeOnSet,size:a=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:l=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:f=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:p,forceRefresh:m=!1,status:w,signal:_}=e;if(!this.#O)return w&&(w.fetch="get"),this.get(t,{allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:n,status:w});let x={allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:h,size:a,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:l,allowStaleOnFetchRejection:f,allowStaleOnFetchAbort:g,ignoreFetchAbort:d,status:w,signal:_},S=this.#h.get(t);if(S===void 0){w&&(w.fetch="miss");let R=this.#L(t,S,x,p);return R.__returned=R}else{let R=this.#t[S];if(this.#o(R)){let xt=i&&R.__staleWhileFetching!==void 0;return w&&(w.fetch="inflight",xt&&(w.returnedStale=!0)),xt?R.__staleWhileFetching:R.__returned=R}let P=this.#w(S);if(!m&&!P)return w&&(w.fetch="hit"),this.#q(S),r&&this.#T(S),w&&this.#S(w,S),R;let A=this.#L(t,S,x,p),q=A.__staleWhileFetching!==void 0&&i;return w&&(w.fetch=P?"stale":"refresh",q&&P&&(w.returnedStale=!0)),q?A.__staleWhileFetching:A.__returned=A}}get(t,e={}){let{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:o}=e,h=this.#h.get(t);if(h!==void 0){let a=this.#t[h],c=this.#o(a);return o&&this.#S(o,h),this.#w(h)?(o&&(o.get="stale"),c?(o&&i&&a.__staleWhileFetching!==void 0&&(o.returnedStale=!0),i?a.__staleWhileFetching:void 0):(n||this.delete(t),o&&i&&(o.returnedStale=!0),i?a:void 0)):(o&&(o.get="hit"),c?a.__staleWhileFetching:(this.#q(h),r&&this.#T(h),a))}else o&&(o.get="miss")}#N(t,e){this.#y[e]=t,this.#g[t]=e}#q(t){t!==this.#f&&(t===this.#m?this.#m=this.#g[t]:this.#N(this.#y[t],this.#g[t]),this.#N(this.#f,t),this.#f=t)}delete(t){let e=!1;if(this.#l!==0){let i=this.#h.get(t);if(i!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#_(i);let r=this.#t[i];if(this.#o(r)?r.__abortController.abort(new Error("deleted")):(this.#v||this.#c)&&(this.#v&&this.#i?.(r,t,"delete"),this.#c&&this.#d?.push([r,t,"delete"])),this.#h.delete(t),this.#n[i]=void 0,this.#t[i]=void 0,i===this.#f)this.#f=this.#y[i];else if(i===this.#m)this.#m=this.#g[i];else{let n=this.#y[i];this.#g[n]=this.#g[i];let o=this.#g[i];this.#y[o]=this.#y[i]}this.#l--,this.#x.push(i)}}if(this.#c&&this.#d?.length){let i=this.#d,r;for(;r=i?.shift();)this.#a?.(...r)}return e}clear(){for(let t of this.#P({allowStale:!0})){let e=this.#t[t];if(this.#o(e))e.__abortController.abort(new Error("deleted"));else{let i=this.#n[t];this.#v&&this.#i?.(e,i,"delete"),this.#c&&this.#d?.push([e,i,"delete"])}}if(this.#h.clear(),this.#t.fill(void 0),this.#n.fill(void 0),this.#b&&this.#R&&(this.#b.fill(0),this.#R.fill(0)),this.#E&&this.#E.fill(0),this.#m=0,this.#f=0,this.#x.length=0,this.#p=0,this.#l=0,this.#c&&this.#d){let t=this.#d,e;for(;e=t?.shift();)this.#a?.(...e)}}};fs.LRUCache=ge});var Ai=y(it=>{"use strict";var Il=it&&it.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(it,"__esModule",{value:!0});it.Minipass=it.isWritable=it.isReadable=it.isStream=void 0;var kn=typeof process=="object"&&process?process:{stdout:null,stderr:null},Pi=require("events"),Dn=Il(require("stream")),Bl=require("string_decoder"),Ul=s=>!!s&&typeof s=="object"&&(s instanceof ys||s instanceof Dn.default||(0,it.isReadable)(s)||(0,it.isWritable)(s));it.isStream=Ul;var Wl=s=>!!s&&typeof s=="object"&&s instanceof Pi.EventEmitter&&typeof s.pipe=="function"&&s.pipe!==Dn.default.Writable.prototype.pipe;it.isReadable=Wl;var zl=s=>!!s&&typeof s=="object"&&s instanceof Pi.EventEmitter&&typeof s.write=="function"&&typeof s.end=="function";it.isWritable=zl;var Rt=Symbol("EOF"),Tt=Symbol("maybeEmitEnd"),Dt=Symbol("emittedEnd"),ds=Symbol("emittingEnd"),we=Symbol("emittedError"),ps=Symbol("closed"),Fn=Symbol("read"),ms=Symbol("flush"),qn=Symbol("flushChunk"),pt=Symbol("encoding"),ie=Symbol("decoder"),$=Symbol("flowing"),ve=Symbol("paused"),re=Symbol("resume"),G=Symbol("buffer"),st=Symbol("pipes"),H=Symbol("bufferLength"),Ci=Symbol("bufferPush"),gs=Symbol("bufferShift"),Z=Symbol("objectMode"),M=Symbol("destroyed"),xi=Symbol("error"),Ei=Symbol("emitData"),Ln=Symbol("emitEnd"),Ri=Symbol("emitEnd2"),bt=Symbol("async"),Ti=Symbol("abort"),ws=Symbol("aborted"),ye=Symbol("signal"),Wt=Symbol("dataListeners"),at=Symbol("discarded"),be=s=>Promise.resolve().then(s),$l=s=>s(),Gl=s=>s==="end"||s==="finish"||s==="prefinish",Hl=s=>s instanceof ArrayBuffer||!!s&&typeof s=="object"&&s.constructor&&s.constructor.name==="ArrayBuffer"&&s.byteLength>=0,Vl=s=>!Buffer.isBuffer(s)&&ArrayBuffer.isView(s),vs=class{src;dest;opts;ondrain;constructor(t,e,i){this.src=t,this.dest=e,this.opts=i,this.ondrain=()=>t[re](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Oi=class extends vs{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,i){super(t,e,i),this.proxyErrors=r=>e.emit("error",r),t.on("error",this.proxyErrors)}},Jl=s=>!!s.objectMode,Kl=s=>!s.objectMode&&!!s.encoding&&s.encoding!=="buffer",ys=class extends Pi.EventEmitter{[$]=!1;[ve]=!1;[st]=[];[G]=[];[Z];[pt];[bt];[ie];[Rt]=!1;[Dt]=!1;[ds]=!1;[ps]=!1;[we]=null;[H]=0;[M]=!1;[ye];[ws]=!1;[Wt]=0;[at]=!1;writable=!0;readable=!0;constructor(...t){let e=t[0]||{};if(super(),e.objectMode&&typeof e.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");Jl(e)?(this[Z]=!0,this[pt]=null):Kl(e)?(this[pt]=e.encoding,this[Z]=!1):(this[Z]=!1,this[pt]=null),this[bt]=!!e.async,this[ie]=this[pt]?new Bl.StringDecoder(this[pt]):null,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[G]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[st]});let{signal:i}=e;i&&(this[ye]=i,i.aborted?this[Ti]():i.addEventListener("abort",()=>this[Ti]()))}get bufferLength(){return this[H]}get encoding(){return this[pt]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[Z]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[bt]}set async(t){this[bt]=this[bt]||!!t}[Ti](){this[ws]=!0,this.emit("abort",this[ye]?.reason),this.destroy(this[ye]?.reason)}get aborted(){return this[ws]}set aborted(t){}write(t,e,i){if(this[ws])return!1;if(this[Rt])throw new Error("write after end");if(this[M])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(i=e,e="utf8"),e||(e="utf8");let r=this[bt]?be:$l;if(!this[Z]&&!Buffer.isBuffer(t)){if(Vl(t))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if(Hl(t))t=Buffer.from(t);else if(typeof t!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[Z]?(this[$]&&this[H]!==0&&this[ms](!0),this[$]?this.emit("data",t):this[Ci](t),this[H]!==0&&this.emit("readable"),i&&r(i),this[$]):t.length?(typeof t=="string"&&!(e===this[pt]&&!this[ie]?.lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[pt]&&(t=this[ie].write(t)),this[$]&&this[H]!==0&&this[ms](!0),this[$]?this.emit("data",t):this[Ci](t),this[H]!==0&&this.emit("readable"),i&&r(i),this[$]):(this[H]!==0&&this.emit("readable"),i&&r(i),this[$])}read(t){if(this[M])return null;if(this[at]=!1,this[H]===0||t===0||t&&t>this[H])return this[Tt](),null;this[Z]&&(t=null),this[G].length>1&&!this[Z]&&(this[G]=[this[pt]?this[G].join(""):Buffer.concat(this[G],this[H])]);let e=this[Fn](t||null,this[G][0]);return this[Tt](),e}[Fn](t,e){if(this[Z])this[gs]();else{let i=e;t===i.length||t===null?this[gs]():typeof i=="string"?(this[G][0]=i.slice(t),e=i.slice(0,t),this[H]-=t):(this[G][0]=i.subarray(t),e=i.subarray(0,t),this[H]-=t)}return this.emit("data",e),!this[G].length&&!this[Rt]&&this.emit("drain"),e}end(t,e,i){return typeof t=="function"&&(i=t,t=void 0),typeof e=="function"&&(i=e,e="utf8"),t!==void 0&&this.write(t,e),i&&this.once("end",i),this[Rt]=!0,this.writable=!1,(this[$]||!this[ve])&&this[Tt](),this}[re](){this[M]||(!this[Wt]&&!this[st].length&&(this[at]=!0),this[ve]=!1,this[$]=!0,this.emit("resume"),this[G].length?this[ms]():this[Rt]?this[Tt]():this.emit("drain"))}resume(){return this[re]()}pause(){this[$]=!1,this[ve]=!0,this[at]=!1}get destroyed(){return this[M]}get flowing(){return this[$]}get paused(){return this[ve]}[Ci](t){this[Z]?this[H]+=1:this[H]+=t.length,this[G].push(t)}[gs](){return this[Z]?this[H]-=1:this[H]-=this[G][0].length,this[G].shift()}[ms](t=!1){do;while(this[qn](this[gs]())&&this[G].length);!t&&!this[G].length&&!this[Rt]&&this.emit("drain")}[qn](t){return this.emit("data",t),this[$]}pipe(t,e){if(this[M])return t;this[at]=!1;let i=this[Dt];return e=e||{},t===kn.stdout||t===kn.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,i?e.end&&t.end():(this[st].push(e.proxyErrors?new Oi(this,t,e):new vs(this,t,e)),this[bt]?be(()=>this[re]()):this[re]()),t}unpipe(t){let e=this[st].find(i=>i.dest===t);e&&(this[st].length===1?(this[$]&&this[Wt]===0&&(this[$]=!1),this[st]=[]):this[st].splice(this[st].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){let i=super.on(t,e);if(t==="data")this[at]=!1,this[Wt]++,!this[st].length&&!this[$]&&this[re]();else if(t==="readable"&&this[H]!==0)super.emit("readable");else if(Gl(t)&&this[Dt])super.emit(t),this.removeAllListeners(t);else if(t==="error"&&this[we]){let r=e;this[bt]?be(()=>r.call(this,this[we])):r.call(this,this[we])}return i}removeListener(t,e){return this.off(t,e)}off(t,e){let i=super.off(t,e);return t==="data"&&(this[Wt]=this.listeners("data").length,this[Wt]===0&&!this[at]&&!this[st].length&&(this[$]=!1)),i}removeAllListeners(t){let e=super.removeAllListeners(t);return(t==="data"||t===void 0)&&(this[Wt]=0,!this[at]&&!this[st].length&&(this[$]=!1)),e}get emittedEnd(){return this[Dt]}[Tt](){!this[ds]&&!this[Dt]&&!this[M]&&this[G].length===0&&this[Rt]&&(this[ds]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ps]&&this.emit("close"),this[ds]=!1)}emit(t,...e){let i=e[0];if(t!=="error"&&t!=="close"&&t!==M&&this[M])return!1;if(t==="data")return!this[Z]&&!i?!1:this[bt]?(be(()=>this[Ei](i)),!0):this[Ei](i);if(t==="end")return this[Ln]();if(t==="close"){if(this[ps]=!0,!this[Dt]&&!this[M])return!1;let n=super.emit("close");return this.removeAllListeners("close"),n}else if(t==="error"){this[we]=i,super.emit(xi,i);let n=!this[ye]||this.listeners("error").length?super.emit("error",i):!1;return this[Tt](),n}else if(t==="resume"){let n=super.emit("resume");return this[Tt](),n}else if(t==="finish"||t==="prefinish"){let n=super.emit(t);return this.removeAllListeners(t),n}let r=super.emit(t,...e);return this[Tt](),r}[Ei](t){for(let i of this[st])i.dest.write(t)===!1&&this.pause();let e=this[at]?!1:super.emit("data",t);return this[Tt](),e}[Ln](){return this[Dt]?!1:(this[Dt]=!0,this.readable=!1,this[bt]?(be(()=>this[Ri]()),!0):this[Ri]())}[Ri](){if(this[ie]){let e=this[ie].end();if(e){for(let i of this[st])i.dest.write(e);this[at]||super.emit("data",e)}}for(let e of this[st])e.end();let t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){let t=Object.assign([],{dataLength:0});this[Z]||(t.dataLength=0);let e=this.promise();return this.on("data",i=>{t.push(i),this[Z]||(t.dataLength+=i.length)}),await e,t}async concat(){if(this[Z])throw new Error("cannot concat in objectMode");let t=await this.collect();return this[pt]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise((t,e)=>{this.on(M,()=>e(new Error("stream destroyed"))),this.on("error",i=>e(i)),this.on("end",()=>t())})}[Symbol.asyncIterator](){this[at]=!1;let t=!1,e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[Rt])return e();let n,o,h=l=>{this.off("data",a),this.off("end",c),this.off(M,u),e(),o(l)},a=l=>{this.off("error",h),this.off("end",c),this.off(M,u),this.pause(),n({value:l,done:!!this[Rt]})},c=()=>{this.off("error",h),this.off("data",a),this.off(M,u),e(),n({done:!0,value:void 0})},u=()=>h(new Error("stream destroyed"));return new Promise((l,f)=>{o=f,n=l,this.once(M,u),this.once("error",h),this.once("end",c),this.once("data",a)})},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[at]=!1;let t=!1,e=()=>(this.pause(),this.off(xi,e),this.off(M,e),this.off("end",e),t=!0,{done:!0,value:void 0}),i=()=>{if(t)return e();let r=this.read();return r===null?e():{done:!1,value:r}};return this.once("end",e),this.once(xi,e),this.once(M,e),{next:i,throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){if(this[M])return t?this.emit("error",t):this.emit(M),this;this[M]=!0,this[at]=!0,this[G].length=0,this[H]=0;let e=this;return typeof e.close=="function"&&!this[ps]&&e.close(),t?this.emit("error",t):this.emit(M),this}static get isStream(){return it.isStream}};it.Minipass=ys});var Yn=y(k=>{"use strict";var Yl=k&&k.__createBinding||(Object.create?function(s,t,e,i){i===void 0&&(i=e);var r=Object.getOwnPropertyDescriptor(t,e);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(s,i,r)}:function(s,t,e,i){i===void 0&&(i=e),s[i]=t[e]}),Xl=k&&k.__setModuleDefault||(Object.create?function(s,t){Object.defineProperty(s,"default",{enumerable:!0,value:t})}:function(s,t){s.default=t}),Zl=k&&k.__importStar||function(s){if(s&&s.__esModule)return s;var t={};if(s!=null)for(var e in s)e!=="default"&&Object.prototype.hasOwnProperty.call(s,e)&&Yl(t,s,e);return Xl(t,s),t};Object.defineProperty(k,"__esModule",{value:!0});k.PathScurry=k.Path=k.PathScurryDarwin=k.PathScurryPosix=k.PathScurryWin32=k.PathScurryBase=k.PathPosix=k.PathWin32=k.PathBase=k.ChildrenCache=k.ResolveCache=void 0;var Un=An(),xs=require("path"),Ql=require("url"),tc=Zl(require("fs")),_e=require("fs"),ec=_e.realpathSync.native,bs=require("fs/promises"),jn=Ai(),Ce={lstatSync:_e.lstatSync,readdir:_e.readdir,readdirSync:_e.readdirSync,readlinkSync:_e.readlinkSync,realpathSync:ec,promises:{lstat:bs.lstat,readdir:bs.readdir,readlink:bs.readlink,realpath:bs.realpath}},Wn=s=>!s||s===Ce||s===tc?Ce:{...Ce,...s,promises:{...Ce.promises,...s.promises||{}}},zn=/^\\\\\?\\([a-z]:)\\?$/i,sc=s=>s.replace(/\//g,"\\").replace(zn,"$1\\"),ic=/[\\\/]/,ut=0,$n=1,Gn=2,St=4,Hn=6,Vn=8,zt=10,Jn=12,ct=15,Se=~ct,ki=16,Mn=32,xe=64,mt=128,Ss=256,Cs=512,Nn=xe|mt|Cs,rc=1023,Fi=s=>s.isFile()?Vn:s.isDirectory()?St:s.isSymbolicLink()?zt:s.isCharacterDevice()?Gn:s.isBlockDevice()?Hn:s.isSocket()?Jn:s.isFIFO()?$n:ut,In=new Map,Ee=s=>{let t=In.get(s);if(t)return t;let e=s.normalize("NFKD");return In.set(s,e),e},Bn=new Map,_s=s=>{let t=Bn.get(s);if(t)return t;let e=Ee(s.toLowerCase());return Bn.set(s,e),e},Re=class extends Un.LRUCache{constructor(){super({max:256})}};k.ResolveCache=Re;var Es=class extends Un.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}};k.ChildrenCache=Es;var Kn=Symbol("PathScurry setAsCwd"),J=class{name;root;roots;parent;nocase;#e;#r;get dev(){return this.#r}#i;get mode(){return this.#i}#a;get nlink(){return this.#a}#u;get uid(){return this.#u}#l;get gid(){return this.#l}#p;get rdev(){return this.#p}#h;get blksize(){return this.#h}#n;get ino(){return this.#n}#t;get size(){return this.#t}#g;get blocks(){return this.#g}#y;get atimeMs(){return this.#y}#m;get mtimeMs(){return this.#m}#f;get ctimeMs(){return this.#f}#x;get birthtimeMs(){return this.#x}#d;get atime(){return this.#d}#E;get mtime(){return this.#E}#R;get ctime(){return this.#R}#b;get birthtime(){return this.#b}#v;#O;#c;#A;#T;#S;#s;#w;#k;#_;get path(){return(this.parent||this).fullpath()}constructor(t,e=ut,i,r,n,o,h){this.name=t,this.#v=n?_s(t):Ee(t),this.#s=e&rc,this.nocase=n,this.roots=r,this.root=i||this,this.#w=o,this.#c=h.fullpath,this.#T=h.relative,this.#S=h.relativePosix,this.parent=h.parent,this.parent?this.#e=this.parent.#e:this.#e=Wn(h.fs)}depth(){return this.#O!==void 0?this.#O:this.parent?this.#O=this.parent.depth()+1:this.#O=0}childrenCache(){return this.#w}resolve(t){if(!t)return this;let e=this.getRootString(t),r=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#D(r):this.#D(r)}#D(t){let e=this;for(let i of t)e=e.child(i);return e}children(){let t=this.#w.get(this);if(t)return t;let e=Object.assign([],{provisional:0});return this.#w.set(this,e),this.#s&=~ki,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;let i=this.children(),r=this.nocase?_s(t):Ee(t);for(let a of i)if(a.#v===r)return a;let n=this.parent?this.sep:"",o=this.#c?this.#c+n+t:void 0,h=this.newChild(t,ut,{...e,parent:this,fullpath:o});return this.canReaddir()||(h.#s|=mt),i.push(h),h}relative(){if(this.#T!==void 0)return this.#T;let t=this.name,e=this.parent;if(!e)return this.#T=this.name;let i=e.relative();return i+(!i||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#S!==void 0)return this.#S;let t=this.name,e=this.parent;if(!e)return this.#S=this.fullpathPosix();let i=e.relativePosix();return i+(!i||!e.parent?"":"/")+t}fullpath(){if(this.#c!==void 0)return this.#c;let t=this.name,e=this.parent;if(!e)return this.#c=this.name;let r=e.fullpath()+(e.parent?this.sep:"")+t;return this.#c=r}fullpathPosix(){if(this.#A!==void 0)return this.#A;if(this.sep==="/")return this.#A=this.fullpath();if(!this.parent){let r=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(r)?this.#A=`//?/${r}`:this.#A=r}let t=this.parent,e=t.fullpathPosix(),i=e+(!e||!t.parent?"":"/")+this.name;return this.#A=i}isUnknown(){return(this.#s&ct)===ut}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#s&ct)===Vn}isDirectory(){return(this.#s&ct)===St}isCharacterDevice(){return(this.#s&ct)===Gn}isBlockDevice(){return(this.#s&ct)===Hn}isFIFO(){return(this.#s&ct)===$n}isSocket(){return(this.#s&ct)===Jn}isSymbolicLink(){return(this.#s&zt)===zt}lstatCached(){return this.#s&Mn?this:void 0}readlinkCached(){return this.#k}realpathCached(){return this.#_}readdirCached(){let t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#k)return!0;if(!this.parent)return!1;let t=this.#s&ct;return!(t!==ut&&t!==zt||this.#s&Ss||this.#s&mt)}calledReaddir(){return!!(this.#s&ki)}isENOENT(){return!!(this.#s&mt)}isNamed(t){return this.nocase?this.#v===_s(t):this.#v===Ee(t)}async readlink(){let t=this.#k;if(t)return t;if(!!this.canReadlink()&&!!this.parent)try{let e=await this.#e.promises.readlink(this.fullpath()),i=(await this.parent.realpath())?.resolve(e);if(i)return this.#k=i}catch(e){this.#N(e.code);return}}readlinkSync(){let t=this.#k;if(t)return t;if(!!this.canReadlink()&&!!this.parent)try{let e=this.#e.readlinkSync(this.fullpath()),i=this.parent.realpathSync()?.resolve(e);if(i)return this.#k=i}catch(e){this.#N(e.code);return}}#j(t){this.#s|=ki;for(let e=t.provisional;e<t.length;e++){let i=t[e];i&&i.#C()}}#C(){this.#s&mt||(this.#s=(this.#s|mt)&Se,this.#P())}#P(){let t=this.children();t.provisional=0;for(let e of t)e.#C()}#M(){this.#s|=Cs,this.#F()}#F(){if(this.#s&xe)return;let t=this.#s;(t&ct)===St&&(t&=Se),this.#s=t|xe,this.#P()}#L(t=""){t==="ENOTDIR"||t==="EPERM"?this.#F():t==="ENOENT"?this.#C():this.children().provisional=0}#o(t=""){t==="ENOTDIR"?this.parent.#F():t==="ENOENT"&&this.#C()}#N(t=""){let e=this.#s;e|=Ss,t==="ENOENT"&&(e|=mt),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Se),this.#s=e,t==="ENOTDIR"&&this.parent&&this.parent.#F()}#q(t,e){return this.#$(t,e)||this.#z(t,e)}#z(t,e){let i=Fi(t),r=this.newChild(t.name,i,{parent:this}),n=r.#s&ct;return n!==St&&n!==zt&&n!==ut&&(r.#s|=xe),e.unshift(r),e.provisional++,r}#$(t,e){for(let i=e.provisional;i<e.length;i++){let r=e[i];if((this.nocase?_s(t.name):Ee(t.name))===r.#v)return this.#G(t,r,i,e)}}#G(t,e,i,r){let n=e.name;return e.#s=e.#s&Se|Fi(t),n!==t.name&&(e.name=t.name),i!==r.provisional&&(i===r.length-1?r.pop():r.splice(i,1),r.unshift(e)),r.provisional++,e}async lstat(){if((this.#s&mt)===0)try{return this.#W(await this.#e.promises.lstat(this.fullpath())),this}catch(t){this.#o(t.code)}}lstatSync(){if((this.#s&mt)===0)try{return this.#W(this.#e.lstatSync(this.fullpath())),this}catch(t){this.#o(t.code)}}#W(t){let{atime:e,atimeMs:i,birthtime:r,birthtimeMs:n,blksize:o,blocks:h,ctime:a,ctimeMs:c,dev:u,gid:l,ino:f,mode:d,mtime:g,mtimeMs:p,nlink:m,rdev:w,size:_,uid:x}=t;this.#d=e,this.#y=i,this.#b=r,this.#x=n,this.#h=o,this.#g=h,this.#R=a,this.#f=c,this.#r=u,this.#l=l,this.#n=f,this.#i=d,this.#E=g,this.#m=p,this.#a=m,this.#p=w,this.#t=_,this.#u=x;let S=Fi(t);this.#s=this.#s&Se|S|Mn,S!==ut&&S!==St&&S!==zt&&(this.#s|=xe)}#B=[];#U=!1;#H(t){this.#U=!1;let e=this.#B.slice();this.#B.length=0,e.forEach(i=>i(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}let i=this.children();if(this.calledReaddir()){let n=i.slice(0,i.provisional);e?t(null,n):queueMicrotask(()=>t(null,n));return}if(this.#B.push(t),this.#U)return;this.#U=!0;let r=this.fullpath();this.#e.readdir(r,{withFileTypes:!0},(n,o)=>{if(n)this.#L(n.code),i.provisional=0;else{for(let h of o)this.#q(h,i);this.#j(i)}this.#H(i.slice(0,i.provisional))})}#I;async readdir(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();if(this.#I)await this.#I;else{let i=()=>{};this.#I=new Promise(r=>i=r);try{for(let r of await this.#e.promises.readdir(e,{withFileTypes:!0}))this.#q(r,t);this.#j(t)}catch(r){this.#L(r.code),t.provisional=0}this.#I=void 0,i()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();try{for(let i of this.#e.readdirSync(e,{withFileTypes:!0}))this.#q(i,t);this.#j(t)}catch(i){this.#L(i.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#s&Nn)return!1;let t=ct&this.#s;return t===ut||t===St||t===zt}shouldWalk(t,e){return(this.#s&St)===St&&!(this.#s&Nn)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#_)return this.#_;if(!((Cs|Ss|mt)&this.#s))try{let t=await this.#e.promises.realpath(this.fullpath());return this.#_=this.resolve(t)}catch{this.#M()}}realpathSync(){if(this.#_)return this.#_;if(!((Cs|Ss|mt)&this.#s))try{let t=this.#e.realpathSync(this.fullpath());return this.#_=this.resolve(t)}catch{this.#M()}}[Kn](t){if(t===this)return;let e=new Set([]),i=[],r=this;for(;r&&r.parent;)e.add(r),r.#T=i.join(this.sep),r.#S=i.join("/"),r=r.parent,i.push("..");for(r=t;r&&r.parent&&!e.has(r);)r.#T=void 0,r.#S=void 0,r=r.parent}};k.PathBase=J;var $t=class extends J{sep="\\";splitSep=ic;constructor(t,e=ut,i,r,n,o,h){super(t,e,i,r,n,o,h)}newChild(t,e=ut,i={}){return new $t(t,e,this.root,this.roots,this.nocase,this.childrenCache(),i)}getRootString(t){return xs.win32.parse(t).root}getRoot(t){if(t=sc(t.toUpperCase()),t===this.root.name)return this.root;for(let[e,i]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=i;return this.roots[t]=new Oe(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(zn,"$1\\"),t===e}};k.PathWin32=$t;var Gt=class extends J{splitSep="/";sep="/";constructor(t,e=ut,i,r,n,o,h){super(t,e,i,r,n,o,h)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=ut,i={}){return new Gt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),i)}};k.PathPosix=Gt;var Te=class{root;rootPath;roots;cwd;#e;#r;#i;nocase;#a;constructor(t=process.cwd(),e,i,{nocase:r,childrenCacheSize:n=16*1024,fs:o=Ce}={}){this.#a=Wn(o),(t instanceof URL||t.startsWith("file://"))&&(t=(0,Ql.fileURLToPath)(t));let h=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(h),this.#e=new Re,this.#r=new Re,this.#i=new Es(n);let a=h.substring(this.rootPath.length).split(i);if(a.length===1&&!a[0]&&a.pop(),r===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=r,this.root=this.newRoot(this.#a),this.roots[this.rootPath]=this.root;let c=this.root,u=a.length-1,l=e.sep,f=this.rootPath,d=!1;for(let g of a){let p=u--;c=c.child(g,{relative:new Array(p).fill("..").join(l),relativePosix:new Array(p).fill("..").join("/"),fullpath:f+=(d?"":l)+g}),d=!0}this.cwd=c}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#i}resolve(...t){let e="";for(let n=t.length-1;n>=0;n--){let o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}let i=this.#e.get(e);if(i!==void 0)return i;let r=this.cwd.resolve(e).fullpath();return this.#e.set(e,r),r}resolvePosix(...t){let e="";for(let n=t.length-1;n>=0;n--){let o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}let i=this.#r.get(e);if(i!==void 0)return i;let r=this.cwd.resolve(e).fullpathPosix();return this.#r.set(e,r),r}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof J||(e=t,t=this.cwd);let{withFileTypes:i}=e;if(t.canReaddir()){let r=await t.readdir();return i?r:r.map(n=>n.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof J||(e=t,t=this.cwd);let{withFileTypes:i=!0}=e;return t.canReaddir()?i?t.readdirSync():t.readdirSync().map(r=>r.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof J||(e=t.withFileTypes,t=this.cwd);let i=await t.readlink();return e?i:i?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof J||(e=t.withFileTypes,t=this.cwd);let i=t.readlinkSync();return e?i:i?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof J||(e=t.withFileTypes,t=this.cwd);let i=await t.realpath();return e?i:i?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof J||(e=t.withFileTypes,t=this.cwd);let i=t.realpathSync();return e?i:i?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof J||(e=t,t=this.cwd);let{withFileTypes:i=!0,follow:r=!1,filter:n,walkFilter:o}=e,h=[];(!n||n(t))&&h.push(i?t:t.fullpath());let a=new Set,c=(l,f)=>{a.add(l),l.readdirCB((d,g)=>{if(d)return f(d);let p=g.length;if(!p)return f();let m=()=>{--p===0&&f()};for(let w of g)(!n||n(w))&&h.push(i?w:w.fullpath()),r&&w.isSymbolicLink()?w.realpath().then(_=>_?.isUnknown()?_.lstat():_).then(_=>_?.shouldWalk(a,o)?c(_,m):m()):w.shouldWalk(a,o)?c(w,m):m()},!0)},u=t;return new Promise((l,f)=>{c(u,d=>{if(d)return f(d);l(h)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof J||(e=t,t=this.cwd);let{withFileTypes:i=!0,follow:r=!1,filter:n,walkFilter:o}=e,h=[];(!n||n(t))&&h.push(i?t:t.fullpath());let a=new Set([t]);for(let c of a){let u=c.readdirSync();for(let l of u){(!n||n(l))&&h.push(i?l:l.fullpath());let f=l;if(l.isSymbolicLink()){if(!(r&&(f=l.realpathSync())))continue;f.isUnknown()&&f.lstatSync()}f.shouldWalk(a,o)&&a.add(f)}}return h}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof J||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof J||(e=t,t=this.cwd);let{withFileTypes:i=!0,follow:r=!1,filter:n,walkFilter:o}=e;(!n||n(t))&&(yield i?t:t.fullpath());let h=new Set([t]);for(let a of h){let c=a.readdirSync();for(let u of c){(!n||n(u))&&(yield i?u:u.fullpath());let l=u;if(u.isSymbolicLink()){if(!(r&&(l=u.realpathSync())))continue;l.isUnknown()&&l.lstatSync()}l.shouldWalk(h,o)&&h.add(l)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof J||(e=t,t=this.cwd);let{withFileTypes:i=!0,follow:r=!1,filter:n,walkFilter:o}=e,h=new jn.Minipass({objectMode:!0});(!n||n(t))&&h.write(i?t:t.fullpath());let a=new Set,c=[t],u=0,l=()=>{let f=!1;for(;!f;){let d=c.shift();if(!d){u===0&&h.end();return}u++,a.add(d);let g=(m,w,_=!1)=>{if(m)return h.emit("error",m);if(r&&!_){let x=[];for(let S of w)S.isSymbolicLink()&&x.push(S.realpath().then(R=>R?.isUnknown()?R.lstat():R));if(x.length){Promise.all(x).then(()=>g(null,w,!0));return}}for(let x of w)x&&(!n||n(x))&&(h.write(i?x:x.fullpath())||(f=!0));u--;for(let x of w){let S=x.realpathCached()||x;S.shouldWalk(a,o)&&c.push(S)}f&&!h.flowing?h.once("drain",l):p||l()},p=!0;d.readdirCB(g,!0),p=!1}};return l(),h}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof J||(e=t,t=this.cwd);let{withFileTypes:i=!0,follow:r=!1,filter:n,walkFilter:o}=e,h=new jn.Minipass({objectMode:!0}),a=new Set;(!n||n(t))&&h.write(i?t:t.fullpath());let c=[t],u=0,l=()=>{let f=!1;for(;!f;){let d=c.shift();if(!d){u===0&&h.end();return}u++,a.add(d);let g=d.readdirSync();for(let p of g)(!n||n(p))&&(h.write(i?p:p.fullpath())||(f=!0));u--;for(let p of g){let m=p;if(p.isSymbolicLink()){if(!(r&&(m=p.realpathSync())))continue;m.isUnknown()&&m.lstatSync()}m.shouldWalk(a,o)&&c.push(m)}}f&&!h.flowing&&h.once("drain",l)};return l(),h}chdir(t=this.cwd){let e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[Kn](e)}};k.PathScurryBase=Te;var Oe=class extends Te{sep="\\";constructor(t=process.cwd(),e={}){let{nocase:i=!0}=e;super(t,xs.win32,"\\",{...e,nocase:i}),this.nocase=i;for(let r=this.cwd;r;r=r.parent)r.nocase=this.nocase}parseRootPath(t){return xs.win32.parse(t).root.toUpperCase()}newRoot(t){return new $t(this.rootPath,St,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}};k.PathScurryWin32=Oe;var Pe=class extends Te{sep="/";constructor(t=process.cwd(),e={}){let{nocase:i=!1}=e;super(t,xs.posix,"/",{...e,nocase:i}),this.nocase=i}parseRootPath(t){return"/"}newRoot(t){return new Gt(this.rootPath,St,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}};k.PathScurryPosix=Pe;var Rs=class extends Pe{constructor(t=process.cwd(),e={}){let{nocase:i=!0}=e;super(t,{...e,nocase:i})}};k.PathScurryDarwin=Rs;k.Path=process.platform==="win32"?$t:Gt;k.PathScurry=process.platform==="win32"?Oe:process.platform==="darwin"?Rs:Pe});var qi=y(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.Pattern=void 0;var nc=qt(),oc=s=>s.length>=1,ac=s=>s.length>=1,Ae=class{#e;#r;#i;length;#a;#u;#l;#p;#h;#n;#t=!0;constructor(t,e,i,r){if(!oc(t))throw new TypeError("empty pattern list");if(!ac(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,i<0||i>=this.length)throw new TypeError("index out of range");if(this.#e=t,this.#r=e,this.#i=i,this.#a=r,this.#i===0){if(this.isUNC()){let[n,o,h,a,...c]=this.#e,[u,l,f,d,...g]=this.#r;c[0]===""&&(c.shift(),g.shift());let p=[n,o,h,a,""].join("/"),m=[u,l,f,d,""].join("/");this.#e=[p,...c],this.#r=[m,...g],this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){let[n,...o]=this.#e,[h,...a]=this.#r;o[0]===""&&(o.shift(),a.shift());let c=n+"/",u=h+"/";this.#e=[c,...o],this.#r=[u,...a],this.length=this.#e.length}}}pattern(){return this.#e[this.#i]}isString(){return typeof this.#e[this.#i]=="string"}isGlobstar(){return this.#e[this.#i]===nc.GLOBSTAR}isRegExp(){return this.#e[this.#i]instanceof RegExp}globString(){return this.#l=this.#l||(this.#i===0?this.isAbsolute()?this.#r[0]+this.#r.slice(1).join("/"):this.#r.join("/"):this.#r.slice(this.#i).join("/"))}hasMore(){return this.length>this.#i+1}rest(){return this.#u!==void 0?this.#u:this.hasMore()?(this.#u=new Ae(this.#e,this.#r,this.#i+1,this.#a),this.#u.#n=this.#n,this.#u.#h=this.#h,this.#u.#p=this.#p,this.#u):this.#u=null}isUNC(){let t=this.#e;return this.#h!==void 0?this.#h:this.#h=this.#a==="win32"&&this.#i===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){let t=this.#e;return this.#p!==void 0?this.#p:this.#p=this.#a==="win32"&&this.#i===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){let t=this.#e;return this.#n!==void 0?this.#n:this.#n=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){let t=this.#e[0];return typeof t=="string"&&this.isAbsolute()&&this.#i===0?t:""}checkFollowGlobstar(){return!(this.#i===0||!this.isGlobstar()||!this.#t)}markFollowGlobstar(){return this.#i===0||!this.isGlobstar()||!this.#t?!1:(this.#t=!1,!0)}};Ts.Pattern=Ae});var Zn=y(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.Ignore=void 0;var Xn=qt(),hc=qi(),lc=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",Li=class{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:i,noext:r,noglobstar:n,platform:o=lc}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];let h={dot:!0,nobrace:e,nocase:i,noext:r,noglobstar:n,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let a of t){let c=new Xn.Minimatch(a,h);for(let u=0;u<c.set.length;u++){let l=c.set[u],f=c.globParts[u];if(!l||!f)throw new Error("invalid pattern object");for(;l[0]==="."&&f[0]===".";)l.shift(),f.shift();let d=new hc.Pattern(l,f,0,o),g=new Xn.Minimatch(d.globString(),h),p=f[f.length-1]==="**",m=d.isAbsolute();m?this.absolute.push(g):this.relative.push(g),p&&(m?this.absoluteChildren.push(g):this.relativeChildren.push(g))}}}ignored(t){let e=t.fullpath(),i=`${e}/`,r=t.relative()||".",n=`${r}/`;for(let o of this.relative)if(o.match(r)||o.match(n))return!0;for(let o of this.absolute)if(o.match(e)||o.match(i))return!0;return!1}childrenIgnored(t){let e=t.fullpath()+"/",i=(t.relative()||".")+"/";for(let r of this.relativeChildren)if(r.match(i))return!0;for(let r of this.absoluteChildren)if(r.match(e))return!0;return!1}};Os.Ignore=Li});var to=y(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.Processor=_t.SubWalks=_t.MatchRecord=_t.HasWalkedCache=void 0;var Qn=qt(),ne=class{store;constructor(t=new Map){this.store=t}copy(){return new ne(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){let i=t.fullpath(),r=this.store.get(i);r?r.add(e.globString()):this.store.set(i,new Set([e.globString()]))}};_t.HasWalkedCache=ne;var Ps=class{store=new Map;add(t,e,i){let r=(e?2:0)|(i?1:0),n=this.store.get(t);this.store.set(t,n===void 0?r:r&n)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}};_t.MatchRecord=Ps;var As=class{store=new Map;add(t,e){if(!t.canReaddir())return;let i=this.store.get(t);i?i.find(r=>r.globString()===e.globString())||i.push(e):this.store.set(t,[e])}get(t){let e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}};_t.SubWalks=As;var ke=class{hasWalkedCache;matches=new Ps;subwalks=new As;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new ne}processPatterns(t,e){this.patterns=e;let i=e.map(r=>[t,r]);for(let[r,n]of i){this.hasWalkedCache.storeWalked(r,n);let o=n.root(),h=n.isAbsolute()&&this.opts.absolute!==!1;if(o){r=r.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let l=n.rest();if(l)n=l;else{this.matches.add(r,!0,!1);continue}}if(r.isENOENT())continue;let a,c,u=!1;for(;typeof(a=n.pattern())=="string"&&(c=n.rest());)r=r.resolve(a),n=c,u=!0;if(a=n.pattern(),c=n.rest(),u){if(this.hasWalkedCache.hasWalked(r,n))continue;this.hasWalkedCache.storeWalked(r,n)}if(typeof a=="string"){let l=a===".."||a===""||a===".";this.matches.add(r.resolve(a),h,l);continue}else if(a===Qn.GLOBSTAR){(!r.isSymbolicLink()||this.follow||n.checkFollowGlobstar())&&this.subwalks.add(r,n);let l=c?.pattern(),f=c?.rest();if(!c||(l===""||l===".")&&!f)this.matches.add(r,h,l===""||l===".");else if(l===".."){let d=r.parent||r;f?this.hasWalkedCache.hasWalked(d,f)||this.subwalks.add(d,f):this.matches.add(d,h,!0)}}else a instanceof RegExp&&this.subwalks.add(r,n)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new ke(this.opts,this.hasWalkedCache)}filterEntries(t,e){let i=this.subwalks.get(t),r=this.child();for(let n of e)for(let o of i){let h=o.isAbsolute(),a=o.pattern(),c=o.rest();a===Qn.GLOBSTAR?r.testGlobstar(n,o,c,h):a instanceof RegExp?r.testRegExp(n,a,c,h):r.testString(n,a,c,h)}return r}testGlobstar(t,e,i,r){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,r,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(i&&e.checkFollowGlobstar()?this.subwalks.add(t,i):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),i){let n=i.pattern();if(typeof n=="string"&&n!==".."&&n!==""&&n!==".")this.testString(t,n,i.rest(),r);else if(n===".."){let o=t.parent||t;this.subwalks.add(o,i)}else n instanceof RegExp&&this.testRegExp(t,n,i.rest(),r)}}testRegExp(t,e,i,r){!e.test(t.name)||(i?this.subwalks.add(t,i):this.matches.add(t,r,!1))}testString(t,e,i,r){!t.isNamed(e)||(i?this.subwalks.add(t,i):this.matches.add(t,r,!1))}};_t.Processor=ke});var io=y(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.GlobStream=jt.GlobWalker=jt.GlobUtil=void 0;var cc=Ai(),eo=Zn(),so=to(),uc=(s,t)=>typeof s=="string"?new eo.Ignore([s],t):Array.isArray(s)?new eo.Ignore(s,t):s,Fe=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#e=[];#r;#i;signal;maxDepth;constructor(t,e,i){this.patterns=t,this.path=e,this.opts=i,this.#i=!i.posix&&i.platform==="win32"?"\\":"/",i.ignore&&(this.#r=uc(i.ignore,i)),this.maxDepth=i.maxDepth||1/0,i.signal&&(this.signal=i.signal,this.signal.addEventListener("abort",()=>{this.#e.length=0}))}#a(t){return this.seen.has(t)||!!this.#r?.ignored?.(t)}#u(t){return!!this.#r?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#e.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#e.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let i;if(this.opts.realpath){if(i=t.realpathCached()||await t.realpath(),!i)return;t=i}let n=t.isUnknown()||this.opts.stat?await t.lstat():t;if(this.opts.follow&&this.opts.nodir&&n?.isSymbolicLink()){let o=await n.realpath();o&&(o.isUnknown()||this.opts.stat)&&await o.lstat()}return this.matchCheckTest(n,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!t.isSymbolicLink()||!t.realpathCached()?.isDirectory())&&!this.#a(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let i;if(this.opts.realpath){if(i=t.realpathCached()||t.realpathSync(),!i)return;t=i}let n=t.isUnknown()||this.opts.stat?t.lstatSync():t;if(this.opts.follow&&this.opts.nodir&&n?.isSymbolicLink()){let o=n.realpathSync();o&&(o?.isUnknown()||this.opts.stat)&&o.lstatSync()}return this.matchCheckTest(n,e)}matchFinish(t,e){if(this.#a(t))return;let i=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);let r=this.opts.mark&&t.isDirectory()?this.#i:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(i){let n=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(n+r)}else{let n=this.opts.posix?t.relativePosix():t.relative(),o=this.opts.dotRelative&&!n.startsWith(".."+this.#i)?"."+this.#i:"";this.matchEmit(n?o+n+r:"."+r)}}async match(t,e,i){let r=await this.matchCheck(t,i);r&&this.matchFinish(r,e)}matchSync(t,e,i){let r=this.matchCheckSync(t,i);r&&this.matchFinish(r,e)}walkCB(t,e,i){this.signal?.aborted&&i(),this.walkCB2(t,e,new so.Processor(this.opts),i)}walkCB2(t,e,i,r){if(this.#u(t))return r();if(this.signal?.aborted&&r(),this.paused){this.onResume(()=>this.walkCB2(t,e,i,r));return}i.processPatterns(t,e);let n=1,o=()=>{--n===0&&r()};for(let[h,a,c]of i.matches.entries())this.#a(h)||(n++,this.match(h,a,c).then(()=>o()));for(let h of i.subwalkTargets()){if(this.maxDepth!==1/0&&h.depth()>=this.maxDepth)continue;n++;let a=h.readdirCached();h.calledReaddir()?this.walkCB3(h,a,i,o):h.readdirCB((c,u)=>this.walkCB3(h,u,i,o),!0)}o()}walkCB3(t,e,i,r){i=i.filterEntries(t,e);let n=1,o=()=>{--n===0&&r()};for(let[h,a,c]of i.matches.entries())this.#a(h)||(n++,this.match(h,a,c).then(()=>o()));for(let[h,a]of i.subwalks.entries())n++,this.walkCB2(h,a,i.child(),o);o()}walkCBSync(t,e,i){this.signal?.aborted&&i(),this.walkCB2Sync(t,e,new so.Processor(this.opts),i)}walkCB2Sync(t,e,i,r){if(this.#u(t))return r();if(this.signal?.aborted&&r(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,i,r));return}i.processPatterns(t,e);let n=1,o=()=>{--n===0&&r()};for(let[h,a,c]of i.matches.entries())this.#a(h)||this.matchSync(h,a,c);for(let h of i.subwalkTargets()){if(this.maxDepth!==1/0&&h.depth()>=this.maxDepth)continue;n++;let a=h.readdirSync();this.walkCB3Sync(h,a,i,o)}o()}walkCB3Sync(t,e,i,r){i=i.filterEntries(t,e);let n=1,o=()=>{--n===0&&r()};for(let[h,a,c]of i.matches.entries())this.#a(h)||this.matchSync(h,a,c);for(let[h,a]of i.subwalks.entries())n++,this.walkCB2Sync(h,a,i.child(),o);o()}};jt.GlobUtil=Fe;var Di=class extends Fe{matches;constructor(t,e,i){super(t,e,i),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}};jt.GlobWalker=Di;var ji=class extends Fe{results;constructor(t,e,i){super(t,e,i),this.results=new cc.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){let t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};jt.GlobStream=ji});var Ni=y(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.Glob=void 0;var fc=qt(),ks=Yn(),dc=require("url"),pc=qi(),Fs=io(),mc=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",Mi=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(!e)throw new TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,dc.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(a=>a.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(a=>a.includes("/")?a:`./**/${a}`)}if(this.pattern=t,this.platform=e.platform||mc,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let a=e.platform==="win32"?ks.PathScurryWin32:e.platform==="darwin"?ks.PathScurryDarwin:e.platform?ks.PathScurryPosix:ks.PathScurry;this.scurry=new a(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;let i=this.platform==="darwin"||this.platform==="win32",r={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:i,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},n=this.pattern.map(a=>new fc.Minimatch(a,r)),[o,h]=n.reduce((a,c)=>(a[0].push(...c.set),a[1].push(...c.globParts),a),[[],[]]);this.patterns=o.map((a,c)=>{let u=h[c];if(!u)throw new Error("invalid pattern object");return new pc.Pattern(a,u,0,this.platform)})}async walk(){return[...await new Fs.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new Fs.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new Fs.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new Fs.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};qs.Glob=Mi});var Ii=y(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.hasMagic=void 0;var gc=qt(),wc=(s,t={})=>{Array.isArray(s)||(s=[s]);for(let e of s)if(new gc.Minimatch(e,t).hasMagic())return!0;return!1};Ls.hasMagic=wc});var ao=y(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.glob=T.hasMagic=T.Glob=T.unescape=T.escape=T.sync=T.iterate=T.iterateSync=T.stream=T.streamSync=T.globIterate=T.globIterateSync=T.globSync=T.globStream=T.globStreamSync=void 0;var ro=qt(),Ht=Ni(),vc=Ii();function qe(s,t={}){return new Ht.Glob(s,t).streamSync()}T.globStreamSync=qe;function Bi(s,t={}){return new Ht.Glob(s,t).stream()}T.globStream=Bi;function Ui(s,t={}){return new Ht.Glob(s,t).walkSync()}T.globSync=Ui;async function no(s,t={}){return new Ht.Glob(s,t).walk()}function Le(s,t={}){return new Ht.Glob(s,t).iterateSync()}T.globIterateSync=Le;function Wi(s,t={}){return new Ht.Glob(s,t).iterate()}T.globIterate=Wi;T.streamSync=qe;T.stream=Object.assign(Bi,{sync:qe});T.iterateSync=Le;T.iterate=Object.assign(Wi,{sync:Le});T.sync=Object.assign(Ui,{stream:qe,iterate:Le});var oo=qt();Object.defineProperty(T,"escape",{enumerable:!0,get:function(){return oo.escape}});Object.defineProperty(T,"unescape",{enumerable:!0,get:function(){return oo.unescape}});var yc=Ni();Object.defineProperty(T,"Glob",{enumerable:!0,get:function(){return yc.Glob}});var bc=Ii();Object.defineProperty(T,"hasMagic",{enumerable:!0,get:function(){return bc.hasMagic}});T.glob=Object.assign(no,{glob:no,globSync:Ui,sync:T.sync,globStream:Bi,stream:T.stream,globStreamSync:qe,streamSync:T.streamSync,globIterate:Wi,iterate:T.iterate,globIterateSync:Le,iterateSync:T.iterateSync,Glob:Ht.Glob,hasMagic:vc.hasMagic,escape:ro.escape,unescape:ro.unescape});T.glob.glob=T.glob});var ho=y(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});var E=require("vscode"),B=Je(),Vt=require("fs"),Ct=require("path"),Sc=ao(),zi=class{constructor(t){this.frameworks=[],this.explorer=t,this.init(),this.explorer.addInit(this)}init(){this.frameworks=this.explorer.frameworks}register(){let t=[{scheme:"file",language:"vue"},{scheme:"file",language:"javascript"},{scheme:"file",language:"typescript"},{scheme:"file",language:"html"},{scheme:"file",language:"javascriptreact"},{scheme:"file",language:"typescriptreact"},{scheme:"file",language:"wxml"}],e=new $i(this);this.explorer.context.subscriptions.push(E.languages.registerCompletionItemProvider(t,e,"",":","<",'"',"'","/","@","(",">","{"));let i=new Gi(this);this.explorer.context.subscriptions.push(E.languages.registerHoverProvider(t,i));let r=new Hi(this);this.explorer.context.subscriptions.push(E.languages.registerDefinitionProvider(t,r)),E.workspace.onDidChangeTextDocument(n=>{var o;let h=E.window.activeTextEditor;if(!h||n.document!==h.document||n.contentChanges.length===0)return;if(n.contentChanges[n.contentChanges.length-1].text===">"){if(!(!((o=E.workspace.getConfiguration("vue-helper").get("autoCloseTag"))!==null&&o!==void 0)||o))return;let f=h.document.lineAt(h.selection.active.line).text.substring(0,h.selection.active.character);if(B.isCloseTag(f)){let g=`</${B.getCloseTagName(f)}>`;h.insertSnippet(new E.SnippetString(`$0${g}`),h.selection.active)}}})}};Vi.default=zi;var $i=class{constructor(t){this.frameworkProvider=t}provideCompletionItems(t,e,i,r){let o=t.lineAt(e.line).text.substring(0,e.character),h=this.frameworkProvider.explorer,a=h.frameworks,c=h.tabSize,u=new E.Range(new E.Position(0,0),e),l=t.getText(u),f=t.getText().split(`
`),d=B.checkNotInTemplate(f,e.line);if(B.isImportLine(o))return B.getImportSuggestions(o,h.vueFiles,t.uri.fsPath,h.projectRootPath).map(m=>{let w=new E.CompletionItem(m.label,E.CompletionItemKind.Reference);return w.sortText=m.sortText,w.insertText=new E.SnippetString(m.insertText),w.detail=m.detail,w.documentation=m.documentation,w});if(!d){let p=B.matchPreTag(l);if(p){let _=B.matchPreAttr(l);if(_)return B.getAttrValueCompletions(p.text,_,a,c).map(R=>{let P=new E.CompletionItem(R.label,E.CompletionItemKind.Value);return P.sortText=R.sortText,P.insertText=R.insertText,P.detail=R.detail,P});let x=r.triggerCharacter||o.slice(-1);if(x===" "||x===":"||x==="@"){let S=B.getAttrCompletions(p.text,a,c,x),R=p.text,P=h.vueFiles.find(A=>{let N=A.name.toLowerCase().replace(/-/g,""),q=R.toLowerCase().replace(/-/g,"");return N===q});if(P)try{let A=P.path;A=A.replace(h.prefix.alias,h.prefix.path);let N=Ct.join(h.projectRootPath,A);if(Vt.existsSync(N)){let q=Vt.readFileSync(N,"utf8"),xt=B.extractVueProps(q);S.push(...xt)}}catch(A){}return S.map(A=>{let N=A.kind==="method"?E.CompletionItemKind.Method:E.CompletionItemKind.Property,q=new E.CompletionItem(A.label,N);return q.sortText=A.sortText,q.insertText=A.insertText,q.detail=A.detail,q.documentation=A.documentation,q})}}let m=B.getTagCompletions(a,c,!0),w=B.getElementTagLabels(a,c,h.name);return[...m,...w].map(_=>{let x=new E.CompletionItem(_.label,E.CompletionItemKind.Snippet);return x.sortText=_.sortText,x.insertText=new E.SnippetString(_.insertText),x.detail=_.detail,x.documentation=_.documentation,x})}return B.getJsTagCompletions(a,c,!0).map(p=>{let m=new E.CompletionItem(p.label,E.CompletionItemKind.Snippet);return m.sortText=p.sortText,m.insertText=new E.SnippetString(p.insertText),m.detail=p.detail,m.documentation=p.documentation,m})}},Gi=class{constructor(t){this.frameworkProvider=t}provideHover(t,e,i){let r=this.frameworkProvider.explorer,n=t.lineAt(e.line),h=B.getWordAtPosition(n.text,e.character,[" ","<",">",'"',"'",".","\\","=",":"]).selectText;if(!h)return null;let a=B.provideHover(h,r.frameworks,r.tabSize);return a?new E.Hover(a):null}},Hi=class{constructor(t){this.frameworkProvider=t}provideDefinition(t,e,i){let r=this.frameworkProvider.explorer,o=t.lineAt(e.line).text,h=B.getDefinitionPath(o);if(h){let u=h.includes(r.prefix.alias),l=h.replace(r.prefix.alias,r.prefix.path),f=B.resolveFilePath(t.uri.fsPath,l,r.projectRootPath,u);if(f)return new E.Location(E.Uri.file(f),new E.Position(0,0));try{let d=Ct.join(r.projectRootPath,"node_modules",h),g=Ct.join(d,"package.json");if(Vt.existsSync(g)){let p=JSON.parse(Vt.readFileSync(g,"utf8")),m=Ct.join(d,p.main||"index.js");if(Vt.existsSync(m))return new E.Location(E.Uri.file(m),new E.Position(0,0))}}catch(d){}}if(t.getText().includes('lang="ts"')||r.isTs)return null;let c=B.getWordAtPosition(o,e.character,[" ","<",">",'"',"'","`","(",")",".",",","{","}","[","]",":",";","=","+","/","!","?","&","|","@"]);if(c.selectText){let u=t.getText().split(`
`),l=B.findDefinitionInFile(u,c.selectText,c.startText);if(l)if(l.filePath){let g=B.resolveFilePath(t.uri.fsPath,l.filePath.replace(r.prefix.alias,r.prefix.path),r.projectRootPath,l.filePath.includes(r.prefix.alias));if(g)return new E.Location(E.Uri.file(g),new E.Position(0,0))}else return new E.Location(t.uri,new E.Position(l.line,l.character));let f=c.selectText,d=r.vueFiles.find(g=>{let p=g.name.toLowerCase().replace(/-/g,""),m=f.toLowerCase().replace(/-/g,"");return p===m});if(d){let g=d.path;g=g.replace(r.prefix.alias,r.prefix.path);let p=Ct.join(r.projectRootPath,g);if(Vt.existsSync(p))return new E.Location(E.Uri.file(p),new E.Position(0,0))}if(c.startText==="<"&&f.includes("-")){let g=this.resolveFrameworkComponent(f,r);if(g)return g}try{let g=Sc.sync(r.projectRootPath.replace(/\\/g,"/")+"/!(node_modules)/**/*.vue");for(let p=0;p<g.length;p++){let m=g[p];if(m.replace(/-/gi,"").toLowerCase().replace(/\.vue$/,"").endsWith("/"+f.toLowerCase().replace(/-/gi,"")))return new E.Location(E.Uri.file(m),new E.Position(0,0))}}catch(g){}}return null}resolveFrameworkComponent(t,e){let i=e.projectRootPath,r=t.replace(/^el-/,""),n=[];e.frameworks.includes("element-ui")&&n.push(Ct.join(i,"node_modules","element-ui","packages",r,"src","main.vue"),Ct.join(i,"node_modules","element-ui","packages",r,"index.js"),Ct.join(i,"node_modules","element-ui","lib",`${r}.js`)),e.frameworks.includes("element-plus")&&n.push(Ct.join(i,"node_modules","element-plus","es","components",r,"index.mjs"),Ct.join(i,"node_modules","element-plus","lib","components",r,"index.js"));for(let o of n)if(Vt.existsSync(o))return new E.Location(E.Uri.file(o),new E.Position(0,0));return null}}});var lo=y(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});var O=require("vscode"),Ji=Je(),Ki=class{constructor(t){this.explorer=t}register(){this.explorer.context.subscriptions.push(O.commands.registerCommand("vue-helper.blockSelect",()=>{this.blockSelect()})),this.explorer.context.subscriptions.push(O.commands.registerCommand("vue-helper.funcEnhance",()=>{this.funcEnhance()})),this.explorer.context.subscriptions.push(O.commands.registerCommand("vue-helper.backspace",()=>{this.backspace()})),this.explorer.context.subscriptions.push(O.commands.registerCommand("vue-helper.autoImport",()=>{this.autoImport()})),this.explorer.context.subscriptions.push(O.commands.registerCommand("vue-helper.autoEnhance",()=>{this.autoEnhance()})),this.explorer.setContext("vue-helper.backspace",!0)}blockSelect(){let t=O.window.activeTextEditor;if(!t)return;let e=t.document.getText().split(`
`),i=t.selection,r=i.start.line,n=i.start.character,o=Ji.computeBlockSelect(e,r,n);o&&(t.selection=new O.Selection(new O.Position(o.startLine,o.startChar),new O.Position(o.endLine,o.endChar)))}funcEnhance(){let t=O.window.activeTextEditor;if(!t)return;let e=t.document.getText().split(`
`),i=t.selection.active,r=this.explorer.tabSize,n=Ji.computeFuncEnhance(e,i.line,i.character,r);if(n)if(n.actionType==="snippet"){let o=t.document.lineAt(i.line);t.edit(h=>{h.replace(o.range,n.insertText)}).then(()=>{n.cursorLine&&n.cursorChar&&(t.selection=new O.Selection(new O.Position(n.cursorLine,n.cursorChar),new O.Position(n.cursorLine,n.cursorChar)))})}else t.edit(o=>{o.insert(i,n.insertText)}).then(()=>{t.selection=new O.Selection(new O.Position(n.cursorLine,n.cursorChar),new O.Position(n.cursorLine,n.cursorChar))})}backspace(){let t=O.window.activeTextEditor;if(!t)return;let e=t.document.getText().split(`
`),i=t.selection.active,r=Ji.computeBackspace(e,i.line,i.character);r?t.edit(n=>{let o=new O.Range(new O.Position(r.startLine,r.startChar),new O.Position(r.endLine,r.endChar));n.replace(o,r.text)}):O.commands.executeCommand("deleteLeft")}autoImport(){let t=O.window.activeTextEditor;if(!t)return;let e=t.document,i=t.selection,r=e.getText(i);if(!r)return;let n=this.explorer.vueFiles.find(c=>{let u=c.name.toLowerCase().replace(/-/g,""),l=r.toLowerCase().replace(/-/g,"");return u===l});if(!n)return;let o=this.toPascalCase(n.name);if(e.getText().includes(`import ${o}`))return;let h=n.path,a=`import ${o} from '${h}'`;this.insertImportAndRegister(t,o,a)}autoEnhance(){let t=O.window.activeTextEditor;if(!t)return;let e=t.document.lineAt(t.selection.anchor.line).text;if(/<.*>\s?<\/.*>/gi.test(e.trim())||/<.*\/>/gi.test(e.trim())){this.autoImportComponent(e,t,t.selection.anchor.line);return}this.funcEnhance()}autoImportComponent(t,e,i){let r=t.trim().replace(/<([\w-]*)[\s>].*/gi,"$1");for(let n=0;n<this.explorer.vueFiles.length;n++){let o=this.explorer.vueFiles[n];if(r===o.name){let h=this.toPascalCase(o.name);if(e.document.getText().includes(`import ${h}`))return;let a=e.document.lineCount,c=i;for(;!/^\s*<script.*>\s*$/.test(e.document.lineAt(c).text)&&a>c;)c++;let u=this.explorer.getActiveEditorDir(e.document.uri.path),l=`import ${h} from '${this.explorer.getVueRelativePath(u,o.path)}'
`;if(l=l.replace(/\\/gi,"/"),e.document.lineAt(c).text.includes("setup")){e.edit(d=>{d.insert(new O.Position(c+1,0),l)});return}let f=c+1;if(!e.document.lineAt(f).text.includes("export default"))for(;f<a&&/import /gi.test(e.document.lineAt(f).text.trim());)f++;this.insertImportWithComponents(e,h,l,f,a);break}}}insertImportWithComponents(t,e,i,r,n){let o=r,h=0,a=0,c=!1,u=this.explorer.tabSize;for(;o<n&&!/\s*<\/script>\s*/gi.test(t.document.lineAt(o).text.trim());){let l=t.document.lineAt(o).text,f=l.trim();if(/\s*components\s*:\s*\{.*\}.*/gi.test(f)){let g=l.replace(/\s*}.*$/,"").length;t.edit(p=>{p.insert(new O.Position(r,0),i),p.insert(new O.Position(o,g),", "+e)});return}if(c&&/\s*},?\s*$/gi.test(f)){let d=t.document.lineAt(o-1).text,g=d.indexOf(d.trim()),p="";for(let m=0;m<g;m++)p+=" ";t.edit(m=>{m.insert(new O.Position(r,0),i),m.insert(new O.Position(o-1,d.length),`,
`+p+e)});return}/\s*components\s*:\s*\{\s*$/gi.test(f)&&(c=!0),/\s*export\s*default\s*\{\s*/gi.test(f)&&(a=o),/\s*data\s*\(\s*\)\s*\{\s*/gi.test(f)&&(h=o),o++}h>0?t.edit(l=>{l.insert(new O.Position(r-1,0),i),l.insert(new O.Position(h-1,t.document.lineAt(h-1).text.length),`
${u}components: { ${e} },`)}):a>0?t.edit(l=>{l.insert(new O.Position(r,0),i),l.insert(new O.Position(a,t.document.lineAt(a).text.length),`
${u}components: { ${e} },`)}):t.edit(l=>{l.insert(new O.Position(r,0),i)})}insertImportAndRegister(t,e,i){let o=t.document.getText().split(`
`),h=0,a=!1;for(let l=0;l<o.length;l++){if(/^\s*<script/.test(o[l])){a=!0,h=l+1;continue}a&&o[l].trim().startsWith("import")&&(h=l+1)}let c=-1,u=!1;for(let l=0;l<o.length;l++){if(/\s*components\s*:\s*\{.*\}/.test(o[l])){c=l,u=!0;break}if(/\s*components\s*:\s*\{\s*$/.test(o[l])){for(let f=l+1;f<o.length;f++)if(/\s*},?\s*$/.test(o[f].trim())&&!o[f].includes(":")){c=f;break}break}}t.edit(l=>{if(l.insert(new O.Position(h,0),i+`
`),c>=0&&u){let d=o[c].replace(/\s*}.*$/,"");l.insert(new O.Position(c,d.length),", "+e)}else if(c>=0){let f=o[c-1],d=f.indexOf(f.trim()),g=" ".repeat(d);l.insert(new O.Position(c-1,f.length),`,
`+g+e)}})}toPascalCase(t){return t.split(/[-_]/).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join("")}};Yi.default=Ki});var Xi=y((Kd,co)=>{"use strict";co.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}});var rt=y((Yd,po)=>{"use strict";var _c=Xi(),Jt=Object.prototype.toString;function tr(s){return Jt.call(s)==="[object Array]"}function Zi(s){return typeof s>"u"}function Cc(s){return s!==null&&!Zi(s)&&s.constructor!==null&&!Zi(s.constructor)&&typeof s.constructor.isBuffer=="function"&&s.constructor.isBuffer(s)}function xc(s){return Jt.call(s)==="[object ArrayBuffer]"}function Ec(s){return typeof FormData<"u"&&s instanceof FormData}function Rc(s){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&s.buffer instanceof ArrayBuffer,t}function Tc(s){return typeof s=="string"}function Oc(s){return typeof s=="number"}function uo(s){return s!==null&&typeof s=="object"}function Ds(s){if(Jt.call(s)!=="[object Object]")return!1;var t=Object.getPrototypeOf(s);return t===null||t===Object.prototype}function Pc(s){return Jt.call(s)==="[object Date]"}function Ac(s){return Jt.call(s)==="[object File]"}function kc(s){return Jt.call(s)==="[object Blob]"}function fo(s){return Jt.call(s)==="[object Function]"}function Fc(s){return uo(s)&&fo(s.pipe)}function qc(s){return typeof URLSearchParams<"u"&&s instanceof URLSearchParams}function Lc(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function Dc(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function er(s,t){if(!(s===null||typeof s>"u"))if(typeof s!="object"&&(s=[s]),tr(s))for(var e=0,i=s.length;e<i;e++)t.call(null,s[e],e,s);else for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.call(null,s[r],r,s)}function Qi(){var s={};function t(r,n){Ds(s[n])&&Ds(r)?s[n]=Qi(s[n],r):Ds(r)?s[n]=Qi({},r):tr(r)?s[n]=r.slice():s[n]=r}for(var e=0,i=arguments.length;e<i;e++)er(arguments[e],t);return s}function jc(s,t,e){return er(t,function(r,n){e&&typeof r=="function"?s[n]=_c(r,e):s[n]=r}),s}function Mc(s){return s.charCodeAt(0)===65279&&(s=s.slice(1)),s}po.exports={isArray:tr,isArrayBuffer:xc,isBuffer:Cc,isFormData:Ec,isArrayBufferView:Rc,isString:Tc,isNumber:Oc,isObject:uo,isPlainObject:Ds,isUndefined:Zi,isDate:Pc,isFile:Ac,isBlob:kc,isFunction:fo,isStream:Fc,isURLSearchParams:qc,isStandardBrowserEnv:Dc,forEach:er,merge:Qi,extend:jc,trim:Lc,stripBOM:Mc}});var js=y((Xd,go)=>{"use strict";var oe=rt();function mo(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}go.exports=function(t,e,i){if(!e)return t;var r;if(i)r=i(e);else if(oe.isURLSearchParams(e))r=e.toString();else{var n=[];oe.forEach(e,function(a,c){a===null||typeof a>"u"||(oe.isArray(a)?c=c+"[]":a=[a],oe.forEach(a,function(l){oe.isDate(l)?l=l.toISOString():oe.isObject(l)&&(l=JSON.stringify(l)),n.push(mo(c)+"="+mo(l))}))}),r=n.join("&")}if(r){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}});var vo=y((Zd,wo)=>{"use strict";var Nc=rt();function Ms(){this.handlers=[]}Ms.prototype.use=function(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};Ms.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Ms.prototype.forEach=function(t){Nc.forEach(this.handlers,function(i){i!==null&&t(i)})};wo.exports=Ms});var bo=y((Qd,yo)=>{"use strict";var Ic=rt();yo.exports=function(t,e){Ic.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}});var Ns=y((tp,So)=>{"use strict";So.exports=function(t,e,i,r,n){return t.config=e,i&&(t.code=i),t.request=r,t.response=n,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}});var Is=y((ep,_o)=>{"use strict";var Bc=Ns();_o.exports=function(t,e,i,r,n){var o=new Error(t);return Bc(o,e,i,r,n)}});var sr=y((sp,Co)=>{"use strict";var Uc=Is();Co.exports=function(t,e,i){var r=i.config.validateStatus;!i.status||!r||r(i.status)?t(i):e(Uc("Request failed with status code "+i.status,i.config,null,i.request,i))}});var Eo=y((ip,xo)=>{"use strict";var Bs=rt();xo.exports=Bs.isStandardBrowserEnv()?function(){return{write:function(e,i,r,n,o,h){var a=[];a.push(e+"="+encodeURIComponent(i)),Bs.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),Bs.isString(n)&&a.push("path="+n),Bs.isString(o)&&a.push("domain="+o),h===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var i=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var To=y((rp,Ro)=>{"use strict";Ro.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}});var Po=y((np,Oo)=>{"use strict";Oo.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}});var ir=y((op,Ao)=>{"use strict";var Wc=To(),zc=Po();Ao.exports=function(t,e){return t&&!Wc(e)?zc(t,e):e}});var Fo=y((ap,ko)=>{"use strict";var rr=rt(),$c=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];ko.exports=function(t){var e={},i,r,n;return t&&rr.forEach(t.split(`
`),function(h){if(n=h.indexOf(":"),i=rr.trim(h.substr(0,n)).toLowerCase(),r=rr.trim(h.substr(n+1)),i){if(e[i]&&$c.indexOf(i)>=0)return;i==="set-cookie"?e[i]=(e[i]?e[i]:[]).concat([r]):e[i]=e[i]?e[i]+", "+r:r}}),e}});var Do=y((hp,Lo)=>{"use strict";var qo=rt();Lo.exports=qo.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a"),i;function r(n){var o=n;return t&&(e.setAttribute("href",o),o=e.href),e.setAttribute("href",o),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return i=r(window.location.href),function(o){var h=qo.isString(o)?r(o):o;return h.protocol===i.protocol&&h.host===i.host}}():function(){return function(){return!0}}()});var Mo=y((lp,jo)=>{"use strict";var Us=rt(),Gc=sr(),Hc=Eo(),Vc=js(),Jc=ir(),Kc=Fo(),Yc=Do(),nr=Is();jo.exports=function(t){return new Promise(function(i,r){var n=t.data,o=t.headers,h=t.responseType;Us.isFormData(n)&&delete o["Content-Type"];var a=new XMLHttpRequest;if(t.auth){var c=t.auth.username||"",u=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.Authorization="Basic "+btoa(c+":"+u)}var l=Jc(t.baseURL,t.url);a.open(t.method.toUpperCase(),Vc(l,t.params,t.paramsSerializer),!0),a.timeout=t.timeout;function f(){if(!!a){var g="getAllResponseHeaders"in a?Kc(a.getAllResponseHeaders()):null,p=!h||h==="text"||h==="json"?a.responseText:a.response,m={data:p,status:a.status,statusText:a.statusText,headers:g,config:t,request:a};Gc(i,r,m),a=null}}if("onloadend"in a?a.onloadend=f:a.onreadystatechange=function(){!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0)||setTimeout(f)},a.onabort=function(){!a||(r(nr("Request aborted",t,"ECONNABORTED",a)),a=null)},a.onerror=function(){r(nr("Network Error",t,null,a)),a=null},a.ontimeout=function(){var p="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),r(nr(p,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",a)),a=null},Us.isStandardBrowserEnv()){var d=(t.withCredentials||Yc(l))&&t.xsrfCookieName?Hc.read(t.xsrfCookieName):void 0;d&&(o[t.xsrfHeaderName]=d)}"setRequestHeader"in a&&Us.forEach(o,function(p,m){typeof n>"u"&&m.toLowerCase()==="content-type"?delete o[m]:a.setRequestHeader(m,p)}),Us.isUndefined(t.withCredentials)||(a.withCredentials=!!t.withCredentials),h&&h!=="json"&&(a.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&a.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&a.upload&&a.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(p){!a||(a.abort(),r(p),a=null)}),n||(n=null),a.send(n)})}});var Io=y((cp,No)=>{var ae=1e3,he=ae*60,le=he*60,Kt=le*24,Xc=Kt*7,Zc=Kt*365.25;No.exports=function(s,t){t=t||{};var e=typeof s;if(e==="string"&&s.length>0)return Qc(s);if(e==="number"&&isFinite(s))return t.long?eu(s):tu(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};function Qc(s){if(s=String(s),!(s.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(!!t){var e=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return e*Zc;case"weeks":case"week":case"w":return e*Xc;case"days":case"day":case"d":return e*Kt;case"hours":case"hour":case"hrs":case"hr":case"h":return e*le;case"minutes":case"minute":case"mins":case"min":case"m":return e*he;case"seconds":case"second":case"secs":case"sec":case"s":return e*ae;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e;default:return}}}}function tu(s){var t=Math.abs(s);return t>=Kt?Math.round(s/Kt)+"d":t>=le?Math.round(s/le)+"h":t>=he?Math.round(s/he)+"m":t>=ae?Math.round(s/ae)+"s":s+"ms"}function eu(s){var t=Math.abs(s);return t>=Kt?Ws(s,t,Kt,"day"):t>=le?Ws(s,t,le,"hour"):t>=he?Ws(s,t,he,"minute"):t>=ae?Ws(s,t,ae,"second"):s+" ms"}function Ws(s,t,e,i){var r=t>=e*1.5;return Math.round(s/e)+" "+i+(r?"s":"")}});var or=y((up,Bo)=>{function su(s){e.debug=e,e.default=e,e.coerce=a,e.disable=n,e.enable=r,e.enabled=o,e.humanize=Io(),e.destroy=c,Object.keys(s).forEach(u=>{e[u]=s[u]}),e.names=[],e.skips=[],e.formatters={};function t(u){let l=0;for(let f=0;f<u.length;f++)l=(l<<5)-l+u.charCodeAt(f),l|=0;return e.colors[Math.abs(l)%e.colors.length]}e.selectColor=t;function e(u){let l,f=null,d,g;function p(...m){if(!p.enabled)return;let w=p,_=Number(new Date),x=_-(l||_);w.diff=x,w.prev=l,w.curr=_,l=_,m[0]=e.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let S=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(P,A)=>{if(P==="%%")return"%";S++;let N=e.formatters[A];if(typeof N=="function"){let q=m[S];P=N.call(w,q),m.splice(S,1),S--}return P}),e.formatArgs.call(w,m),(w.log||e.log).apply(w,m)}return p.namespace=u,p.useColors=e.useColors(),p.color=e.selectColor(u),p.extend=i,p.destroy=e.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(d!==e.namespaces&&(d=e.namespaces,g=e.enabled(u)),g),set:m=>{f=m}}),typeof e.init=="function"&&e.init(p),p}function i(u,l){let f=e(this.namespace+(typeof l>"u"?":":l)+u);return f.log=this.log,f}function r(u){e.save(u),e.namespaces=u,e.names=[],e.skips=[];let l,f=(typeof u=="string"?u:"").split(/[\s,]+/),d=f.length;for(l=0;l<d;l++)!f[l]||(u=f[l].replace(/\*/g,".*?"),u[0]==="-"?e.skips.push(new RegExp("^"+u.slice(1)+"$")):e.names.push(new RegExp("^"+u+"$")))}function n(){let u=[...e.names.map(h),...e.skips.map(h).map(l=>"-"+l)].join(",");return e.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let l,f;for(l=0,f=e.skips.length;l<f;l++)if(e.skips[l].test(u))return!1;for(l=0,f=e.names.length;l<f;l++)if(e.names[l].test(u))return!0;return!1}function h(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function a(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.enable(e.load()),e}Bo.exports=su});var Uo=y((ht,zs)=>{ht.formatArgs=ru;ht.save=nu;ht.load=ou;ht.useColors=iu;ht.storage=au();ht.destroy=(()=>{let s=!1;return()=>{s||(s=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ht.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function iu(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function ru(s){if(s[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+s[0]+(this.useColors?"%c ":" ")+"+"+zs.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;s.splice(1,0,t,"color: inherit");let e=0,i=0;s[0].replace(/%[a-zA-Z%]/g,r=>{r!=="%%"&&(e++,r==="%c"&&(i=e))}),s.splice(i,0,t)}ht.log=console.debug||console.log||(()=>{});function nu(s){try{s?ht.storage.setItem("debug",s):ht.storage.removeItem("debug")}catch{}}function ou(){let s;try{s=ht.storage.getItem("debug")}catch{}return!s&&typeof process<"u"&&"env"in process&&(s=process.env.DEBUG),s}function au(){try{return localStorage}catch{}}zs.exports=or()(ht);var{formatters:hu}=zs.exports;hu.j=function(s){try{return JSON.stringify(s)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var zo=y((fp,Wo)=>{"use strict";Wo.exports=(s,t=process.argv)=>{let e=s.startsWith("-")?"":s.length===1?"-":"--",i=t.indexOf(e+s),r=t.indexOf("--");return i!==-1&&(r===-1||i<r)}});var Ho=y((dp,Go)=>{"use strict";var lu=require("os"),$o=require("tty"),ft=zo(),{env:V}=process,Mt;ft("no-color")||ft("no-colors")||ft("color=false")||ft("color=never")?Mt=0:(ft("color")||ft("colors")||ft("color=true")||ft("color=always"))&&(Mt=1);"FORCE_COLOR"in V&&(V.FORCE_COLOR==="true"?Mt=1:V.FORCE_COLOR==="false"?Mt=0:Mt=V.FORCE_COLOR.length===0?1:Math.min(parseInt(V.FORCE_COLOR,10),3));function ar(s){return s===0?!1:{level:s,hasBasic:!0,has256:s>=2,has16m:s>=3}}function hr(s,t){if(Mt===0)return 0;if(ft("color=16m")||ft("color=full")||ft("color=truecolor"))return 3;if(ft("color=256"))return 2;if(s&&!t&&Mt===void 0)return 0;let e=Mt||0;if(V.TERM==="dumb")return e;if(process.platform==="win32"){let i=lu.release().split(".");return Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in V)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(i=>i in V)||V.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in V)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(V.TEAMCITY_VERSION)?1:0;if(V.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in V){let i=parseInt((V.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(V.TERM_PROGRAM){case"iTerm.app":return i>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(V.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(V.TERM)||"COLORTERM"in V?1:e}function cu(s){let t=hr(s,s&&s.isTTY);return ar(t)}Go.exports={supportsColor:cu,stdout:ar(hr(!0,$o.isatty(1))),stderr:ar(hr(!0,$o.isatty(2)))}});var Jo=y((K,Gs)=>{var uu=require("tty"),$s=require("util");K.init=vu;K.log=mu;K.formatArgs=du;K.save=gu;K.load=wu;K.useColors=fu;K.destroy=$s.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");K.colors=[6,2,3,4,5,1];try{let s=Ho();s&&(s.stderr||s).level>=2&&(K.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}K.inspectOpts=Object.keys(process.env).filter(s=>/^debug_/i.test(s)).reduce((s,t)=>{let e=t.substring(6).toLowerCase().replace(/_([a-z])/g,(r,n)=>n.toUpperCase()),i=process.env[t];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),s[e]=i,s},{});function fu(){return"colors"in K.inspectOpts?Boolean(K.inspectOpts.colors):uu.isatty(process.stderr.fd)}function du(s){let{namespace:t,useColors:e}=this;if(e){let i=this.color,r="\x1B[3"+(i<8?i:"8;5;"+i),n=`  ${r};1m${t} \x1B[0m`;s[0]=n+s[0].split(`
`).join(`
`+n),s.push(r+"m+"+Gs.exports.humanize(this.diff)+"\x1B[0m")}else s[0]=pu()+t+" "+s[0]}function pu(){return K.inspectOpts.hideDate?"":new Date().toISOString()+" "}function mu(...s){return process.stderr.write($s.format(...s)+`
`)}function gu(s){s?process.env.DEBUG=s:delete process.env.DEBUG}function wu(){return process.env.DEBUG}function vu(s){s.inspectOpts={};let t=Object.keys(K.inspectOpts);for(let e=0;e<t.length;e++)s.inspectOpts[t[e]]=K.inspectOpts[t[e]]}Gs.exports=or()(K);var{formatters:Vo}=Gs.exports;Vo.o=function(s){return this.inspectOpts.colors=this.useColors,$s.inspect(s,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};Vo.O=function(s){return this.inspectOpts.colors=this.useColors,$s.inspect(s,this.inspectOpts)}});var Ko=y((pp,lr)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?lr.exports=Uo():lr.exports=Jo()});var Xo=y((mp,Yo)=>{var De;Yo.exports=function(){if(!De){try{De=Ko()("follow-redirects")}catch{}typeof De!="function"&&(De=function(){})}De.apply(null,arguments)}});var _r=y((gp,Sr)=>{var Ne=require("url"),je=Ne.URL,yu=require("http"),bu=require("https"),pr=require("stream").Writable,mr=require("assert"),Zo=Xo(),gr=!1;try{mr(new je)}catch(s){gr=s.code==="ERR_INVALID_URL"}var Su=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],wr=["abort","aborted","connect","error","socket","timeout"],vr=Object.create(null);wr.forEach(function(s){vr[s]=function(t,e,i){this._redirectable.emit(s,t,e,i)}});var ur=Ie("ERR_INVALID_URL","Invalid URL",TypeError),fr=Ie("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),_u=Ie("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",fr),Cu=Ie("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),xu=Ie("ERR_STREAM_WRITE_AFTER_END","write after end"),Eu=pr.prototype.destroy||ta;function ot(s,t){pr.call(this),this._sanitizeOptions(s),this._options=s,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var e=this;this._onNativeResponse=function(i){try{e._processResponse(i)}catch(r){e.emit("error",r instanceof fr?r:new fr({cause:r}))}},this._performRequest()}ot.prototype=Object.create(pr.prototype);ot.prototype.abort=function(){br(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};ot.prototype.destroy=function(s){return br(this._currentRequest,s),Eu.call(this,s),this};ot.prototype.write=function(s,t,e){if(this._ending)throw new xu;if(!Yt(s)&&!Ou(s))throw new TypeError("data should be a string, Buffer or Uint8Array");if(Me(t)&&(e=t,t=null),s.length===0){e&&e();return}this._requestBodyLength+s.length<=this._options.maxBodyLength?(this._requestBodyLength+=s.length,this._requestBodyBuffers.push({data:s,encoding:t}),this._currentRequest.write(s,t,e)):(this.emit("error",new Cu),this.abort())};ot.prototype.end=function(s,t,e){if(Me(s)?(e=s,s=t=null):Me(t)&&(e=t,t=null),!s)this._ended=this._ending=!0,this._currentRequest.end(null,null,e);else{var i=this,r=this._currentRequest;this.write(s,t,function(){i._ended=!0,r.end(null,null,e)}),this._ending=!0}};ot.prototype.setHeader=function(s,t){this._options.headers[s]=t,this._currentRequest.setHeader(s,t)};ot.prototype.removeHeader=function(s){delete this._options.headers[s],this._currentRequest.removeHeader(s)};ot.prototype.setTimeout=function(s,t){var e=this;function i(o){o.setTimeout(s),o.removeListener("timeout",o.destroy),o.addListener("timeout",o.destroy)}function r(o){e._timeout&&clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.emit("timeout"),n()},s),i(o)}function n(){e._timeout&&(clearTimeout(e._timeout),e._timeout=null),e.removeListener("abort",n),e.removeListener("error",n),e.removeListener("response",n),e.removeListener("close",n),t&&e.removeListener("timeout",t),e.socket||e._currentRequest.removeListener("socket",r)}return t&&this.on("timeout",t),this.socket?r(this.socket):this._currentRequest.once("socket",r),this.on("socket",i),this.on("abort",n),this.on("error",n),this.on("response",n),this.on("close",n),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(s){ot.prototype[s]=function(t,e){return this._currentRequest[s](t,e)}});["aborted","connection","socket"].forEach(function(s){Object.defineProperty(ot.prototype,s,{get:function(){return this._currentRequest[s]}})});ot.prototype._sanitizeOptions=function(s){if(s.headers||(s.headers={}),s.host&&(s.hostname||(s.hostname=s.host),delete s.host),!s.pathname&&s.path){var t=s.path.indexOf("?");t<0?s.pathname=s.path:(s.pathname=s.path.substring(0,t),s.search=s.path.substring(t))}};ot.prototype._performRequest=function(){var s=this._options.protocol,t=this._options.nativeProtocols[s];if(!t)throw new TypeError("Unsupported protocol "+s);if(this._options.agents){var e=s.slice(0,-1);this._options.agent=this._options.agents[e]}var i=this._currentRequest=t.request(this._options,this._onNativeResponse);i._redirectable=this;for(var r of wr)i.on(r,vr[r]);if(this._currentUrl=/^\//.test(this._options.path)?Ne.format(this._options):this._options.path,this._isRedirect){var n=0,o=this,h=this._requestBodyBuffers;(function a(c){if(i===o._currentRequest)if(c)o.emit("error",c);else if(n<h.length){var u=h[n++];i.finished||i.write(u.data,u.encoding,a)}else o._ended&&i.end()})()}};ot.prototype._processResponse=function(s){var t=s.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:s.headers,statusCode:t});var e=s.headers.location;if(!e||this._options.followRedirects===!1||t<300||t>=400){s.responseUrl=this._currentUrl,s.redirects=this._redirects,this.emit("response",s),this._requestBodyBuffers=[];return}if(br(this._currentRequest),s.destroy(),++this._redirectCount>this._options.maxRedirects)throw new _u;var i,r=this._options.beforeRedirect;r&&(i=Object.assign({Host:s.req.getHeader("host")},this._options.headers));var n=this._options.method;((t===301||t===302)&&this._options.method==="POST"||t===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],cr(/^content-/i,this._options.headers));var o=cr(/^host$/i,this._options.headers),h=yr(this._currentUrl),a=o||h.host,c=/^\w+:/.test(e)?this._currentUrl:Ne.format(Object.assign(h,{host:a})),u=Ru(e,c);if(Zo("redirecting to",u.href),this._isRedirect=!0,dr(u,this._options),(u.protocol!==h.protocol&&u.protocol!=="https:"||u.host!==a&&!Tu(u.host,a))&&cr(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),Me(r)){var l={headers:s.headers,statusCode:t},f={url:c,method:n,headers:i};r(this._options,l,f),this._sanitizeOptions(this._options)}this._performRequest()};function Qo(s){var t={maxRedirects:21,maxBodyLength:10485760},e={};return Object.keys(s).forEach(function(i){var r=i+":",n=e[r]=s[i],o=t[i]=Object.create(n);function h(c,u,l){return Pu(c)?c=dr(c):Yt(c)?c=dr(yr(c)):(l=u,u=ea(c),c={protocol:r}),Me(u)&&(l=u,u=null),u=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},c,u),u.nativeProtocols=e,!Yt(u.host)&&!Yt(u.hostname)&&(u.hostname="::1"),mr.equal(u.protocol,r,"protocol mismatch"),Zo("options",u),new ot(u,l)}function a(c,u,l){var f=o.request(c,u,l);return f.end(),f}Object.defineProperties(o,{request:{value:h,configurable:!0,enumerable:!0,writable:!0},get:{value:a,configurable:!0,enumerable:!0,writable:!0}})}),t}function ta(){}function yr(s){var t;if(gr)t=new je(s);else if(t=ea(Ne.parse(s)),!Yt(t.protocol))throw new ur({input:s});return t}function Ru(s,t){return gr?new je(s,t):yr(Ne.resolve(t,s))}function ea(s){if(/^\[/.test(s.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(s.hostname))throw new ur({input:s.href||s});if(/^\[/.test(s.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(s.host))throw new ur({input:s.href||s});return s}function dr(s,t){var e=t||{};for(var i of Su)e[i]=s[i];return e.hostname.startsWith("[")&&(e.hostname=e.hostname.slice(1,-1)),e.port!==""&&(e.port=Number(e.port)),e.path=e.search?e.pathname+e.search:e.pathname,e}function cr(s,t){var e;for(var i in t)s.test(i)&&(e=t[i],delete t[i]);return e===null||typeof e>"u"?void 0:String(e).trim()}function Ie(s,t,e){function i(r){Error.captureStackTrace(this,this.constructor),Object.assign(this,r||{}),this.code=s,this.message=this.cause?t+": "+this.cause.message:t}return i.prototype=new(e||Error),Object.defineProperties(i.prototype,{constructor:{value:i,enumerable:!1},name:{value:"Error ["+s+"]",enumerable:!1}}),i}function br(s,t){for(var e of wr)s.removeListener(e,vr[e]);s.on("error",ta),s.destroy(t)}function Tu(s,t){mr(Yt(s)&&Yt(t));var e=s.length-t.length-1;return e>0&&s[e]==="."&&s.endsWith(t)}function Yt(s){return typeof s=="string"||s instanceof String}function Me(s){return typeof s=="function"}function Ou(s){return typeof s=="object"&&"length"in s}function Pu(s){return je&&s instanceof je}Sr.exports=Qo({http:yu,https:bu});Sr.exports.wrap=Qo});var Cr=y((wp,Au)=>{Au.exports={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]}});var aa=y((vp,oa)=>{"use strict";var Be=rt(),sa=sr(),ku=ir(),Fu=js(),qu=require("http"),Lu=require("https"),Du=_r().http,ju=_r().https,ia=require("url"),Mu=require("zlib"),Nu=Cr(),Hs=Is(),xr=Ns(),ra=/https:?/;function na(s,t,e){if(s.hostname=t.host,s.host=t.host,s.port=t.port,s.path=e,t.auth){var i=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");s.headers["Proxy-Authorization"]="Basic "+i}s.beforeRedirect=function(n){n.headers.host=n.host,na(n,t,n.href)}}oa.exports=function(t){return new Promise(function(i,r){var n=function(F){i(F)},o=function(F){r(F)},h=t.data,a=t.headers;if("User-Agent"in a||"user-agent"in a?!a["User-Agent"]&&!a["user-agent"]&&(delete a["User-Agent"],delete a["user-agent"]):a["User-Agent"]="axios/"+Nu.version,h&&!Be.isStream(h)){if(!Buffer.isBuffer(h))if(Be.isArrayBuffer(h))h=Buffer.from(new Uint8Array(h));else if(Be.isString(h))h=Buffer.from(h,"utf-8");else return o(Hs("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t));a["Content-Length"]=h.length}var c=void 0;if(t.auth){var u=t.auth.username||"",l=t.auth.password||"";c=u+":"+l}var f=ku(t.baseURL,t.url),d=ia.parse(f),g=d.protocol||"http:";if(!c&&d.auth){var p=d.auth.split(":"),m=p[0]||"",w=p[1]||"";c=m+":"+w}c&&delete a.Authorization;var _=ra.test(g),x=_?t.httpsAgent:t.httpAgent,S={path:Fu(d.path,t.params,t.paramsSerializer).replace(/^\?/,""),method:t.method.toUpperCase(),headers:a,agent:x,agents:{http:t.httpAgent,https:t.httpsAgent},auth:c};t.socketPath?S.socketPath=t.socketPath:(S.hostname=d.hostname,S.port=d.port);var R=t.proxy;if(!R&&R!==!1){var P=g.slice(0,-1)+"_proxy",A=process.env[P]||process.env[P.toUpperCase()];if(A){var N=ia.parse(A),q=process.env.no_proxy||process.env.NO_PROXY,xt=!0;if(q){var hh=q.split(",").map(function(F){return F.trim()});xt=!hh.some(function(F){return F?F==="*"||F[0]==="."&&d.hostname.substr(d.hostname.length-F.length)===F?!0:d.hostname===F:!1})}if(xt&&(R={host:N.hostname,port:N.port,protocol:N.protocol},N.auth)){var zr=N.auth.split(":");R.auth={username:zr[0],password:zr[1]}}}}R&&(S.headers.host=d.hostname+(d.port?":"+d.port:""),na(S,R,g+"//"+d.hostname+(d.port?":"+d.port:"")+S.path));var Ge,$r=_&&(R?ra.test(R.protocol):!0);t.transport?Ge=t.transport:t.maxRedirects===0?Ge=$r?Lu:qu:(t.maxRedirects&&(S.maxRedirects=t.maxRedirects),Ge=$r?ju:Du),t.maxBodyLength>-1&&(S.maxBodyLength=t.maxBodyLength);var tt=Ge.request(S,function(F){if(!tt.aborted){var Nt=F,He=F.req||tt;if(F.statusCode!==204&&He.method!=="HEAD"&&t.decompress!==!1)switch(F.headers["content-encoding"]){case"gzip":case"compress":case"deflate":Nt=Nt.pipe(Mu.createUnzip()),delete F.headers["content-encoding"];break}var Ve={status:F.statusCode,statusText:F.statusMessage,headers:F.headers,config:t,request:He};if(t.responseType==="stream")Ve.data=Nt,sa(n,o,Ve);else{var Gr=[],Hr=0;Nt.on("data",function(vt){Gr.push(vt),Hr+=vt.length,t.maxContentLength>-1&&Hr>t.maxContentLength&&(Nt.destroy(),o(Hs("maxContentLength size of "+t.maxContentLength+" exceeded",t,null,He)))}),Nt.on("error",function(vt){tt.aborted||o(xr(vt,t,null,He))}),Nt.on("end",function(){var vt=Buffer.concat(Gr);t.responseType!=="arraybuffer"&&(vt=vt.toString(t.responseEncoding),(!t.responseEncoding||t.responseEncoding==="utf8")&&(vt=Be.stripBOM(vt))),Ve.data=vt,sa(n,o,Ve)})}}});if(tt.on("error",function(F){tt.aborted&&F.code!=="ERR_FR_TOO_MANY_REDIRECTS"||o(xr(F,t,null,tt))}),t.timeout){var fi=parseInt(t.timeout,10);if(isNaN(fi)){o(Hs("error trying to parse `config.timeout` to int",t,"ERR_PARSE_TIMEOUT",tt));return}tt.setTimeout(fi,function(){tt.abort(),o(Hs("timeout of "+fi+"ms exceeded",t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",tt))})}t.cancelToken&&t.cancelToken.promise.then(function(F){tt.aborted||(tt.abort(),o(F))}),Be.isStream(h)?h.on("error",function(F){o(xr(F,t,null,tt))}).pipe(tt):tt.end(h)})}});var Js=y((yp,ca)=>{"use strict";var Y=rt(),ha=bo(),Iu=Ns(),Bu={"Content-Type":"application/x-www-form-urlencoded"};function la(s,t){!Y.isUndefined(s)&&Y.isUndefined(s["Content-Type"])&&(s["Content-Type"]=t)}function Uu(){var s;return typeof XMLHttpRequest<"u"?s=Mo():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(s=aa()),s}function Wu(s,t,e){if(Y.isString(s))try{return(t||JSON.parse)(s),Y.trim(s)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(s)}var Vs={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Uu(),transformRequest:[function(t,e){return ha(e,"Accept"),ha(e,"Content-Type"),Y.isFormData(t)||Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t)?t:Y.isArrayBufferView(t)?t.buffer:Y.isURLSearchParams(t)?(la(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Y.isObject(t)||e&&e["Content-Type"]==="application/json"?(la(e,"application/json"),Wu(t)):t}],transformResponse:[function(t){var e=this.transitional,i=e&&e.silentJSONParsing,r=e&&e.forcedJSONParsing,n=!i&&this.responseType==="json";if(n||r&&Y.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(n)throw o.name==="SyntaxError"?Iu(o,this,"E_JSON_PARSE"):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};Vs.headers={common:{Accept:"application/json, text/plain, */*"}};Y.forEach(["delete","get","head"],function(t){Vs.headers[t]={}});Y.forEach(["post","put","patch"],function(t){Vs.headers[t]=Y.merge(Bu)});ca.exports=Vs});var fa=y((bp,ua)=>{"use strict";var zu=rt(),$u=Js();ua.exports=function(t,e,i){var r=this||$u;return zu.forEach(i,function(o){t=o.call(r,t,e)}),t}});var Er=y((Sp,da)=>{"use strict";da.exports=function(t){return!!(t&&t.__CANCEL__)}});var ga=y((_p,ma)=>{"use strict";var pa=rt(),Rr=fa(),Gu=Er(),Hu=Js();function Tr(s){s.cancelToken&&s.cancelToken.throwIfRequested()}ma.exports=function(t){Tr(t),t.headers=t.headers||{},t.data=Rr.call(t,t.data,t.headers,t.transformRequest),t.headers=pa.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),pa.forEach(["delete","get","head","post","put","patch","common"],function(r){delete t.headers[r]});var e=t.adapter||Hu.adapter;return e(t).then(function(r){return Tr(t),r.data=Rr.call(t,r.data,r.headers,t.transformResponse),r},function(r){return Gu(r)||(Tr(t),r&&r.response&&(r.response.data=Rr.call(t,r.response.data,r.response.headers,t.transformResponse))),Promise.reject(r)})}});var Or=y((Cp,wa)=>{"use strict";var Q=rt();wa.exports=function(t,e){e=e||{};var i={},r=["url","method","data"],n=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],h=["validateStatus"];function a(f,d){return Q.isPlainObject(f)&&Q.isPlainObject(d)?Q.merge(f,d):Q.isPlainObject(d)?Q.merge({},d):Q.isArray(d)?d.slice():d}function c(f){Q.isUndefined(e[f])?Q.isUndefined(t[f])||(i[f]=a(void 0,t[f])):i[f]=a(t[f],e[f])}Q.forEach(r,function(d){Q.isUndefined(e[d])||(i[d]=a(void 0,e[d]))}),Q.forEach(n,c),Q.forEach(o,function(d){Q.isUndefined(e[d])?Q.isUndefined(t[d])||(i[d]=a(void 0,t[d])):i[d]=a(void 0,e[d])}),Q.forEach(h,function(d){d in e?i[d]=a(t[d],e[d]):d in t&&(i[d]=a(void 0,t[d]))});var u=r.concat(n).concat(o).concat(h),l=Object.keys(t).concat(Object.keys(e)).filter(function(d){return u.indexOf(d)===-1});return Q.forEach(l,c),i}});var _a=y((xp,Sa)=>{"use strict";var ya=Cr(),Pr={};["object","boolean","number","function","string","symbol"].forEach(function(s,t){Pr[s]=function(i){return typeof i===s||"a"+(t<1?"n ":" ")+s}});var va={},Vu=ya.version.split(".");function ba(s,t){for(var e=t?t.split("."):Vu,i=s.split("."),r=0;r<3;r++){if(e[r]>i[r])return!0;if(e[r]<i[r])return!1}return!1}Pr.transitional=function(t,e,i){var r=e&&ba(e);function n(o,h){return"[Axios v"+ya.version+"] Transitional option '"+o+"'"+h+(i?". "+i:"")}return function(o,h,a){if(t===!1)throw new Error(n(h," has been removed in "+e));return r&&!va[h]&&(va[h]=!0,console.warn(n(h," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(o,h,a):!0}};function Ju(s,t,e){if(typeof s!="object")throw new TypeError("options must be an object");for(var i=Object.keys(s),r=i.length;r-- >0;){var n=i[r],o=t[n];if(o){var h=s[n],a=h===void 0||o(h,n,s);if(a!==!0)throw new TypeError("option "+n+" must be "+a);continue}if(e!==!0)throw Error("Unknown option "+n)}}Sa.exports={isOlderVersion:ba,assertOptions:Ju,validators:Pr}});var Oa=y((Ep,Ta)=>{"use strict";var Ea=rt(),Ku=js(),Ca=vo(),xa=ga(),Ks=Or(),Ra=_a(),ce=Ra.validators;function Ue(s){this.defaults=s,this.interceptors={request:new Ca,response:new Ca}}Ue.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=Ks(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;e!==void 0&&Ra.assertOptions(e,{silentJSONParsing:ce.transitional(ce.boolean,"1.0.0"),forcedJSONParsing:ce.transitional(ce.boolean,"1.0.0"),clarifyTimeoutError:ce.transitional(ce.boolean,"1.0.0")},!1);var i=[],r=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(t)===!1||(r=r&&f.synchronous,i.unshift(f.fulfilled,f.rejected))});var n=[];this.interceptors.response.forEach(function(f){n.push(f.fulfilled,f.rejected)});var o;if(!r){var h=[xa,void 0];for(Array.prototype.unshift.apply(h,i),h=h.concat(n),o=Promise.resolve(t);h.length;)o=o.then(h.shift(),h.shift());return o}for(var a=t;i.length;){var c=i.shift(),u=i.shift();try{a=c(a)}catch(l){u(l);break}}try{o=xa(a)}catch(l){return Promise.reject(l)}for(;n.length;)o=o.then(n.shift(),n.shift());return o};Ue.prototype.getUri=function(t){return t=Ks(this.defaults,t),Ku(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};Ea.forEach(["delete","get","head","options"],function(t){Ue.prototype[t]=function(e,i){return this.request(Ks(i||{},{method:t,url:e,data:(i||{}).data}))}});Ea.forEach(["post","put","patch"],function(t){Ue.prototype[t]=function(e,i,r){return this.request(Ks(r||{},{method:t,url:e,data:i}))}});Ta.exports=Ue});var kr=y((Rp,Pa)=>{"use strict";function Ar(s){this.message=s}Ar.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Ar.prototype.__CANCEL__=!0;Pa.exports=Ar});var ka=y((Tp,Aa)=>{"use strict";var Yu=kr();function Ys(s){if(typeof s!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(r){t=r});var e=this;s(function(r){e.reason||(e.reason=new Yu(r),t(e.reason))})}Ys.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Ys.source=function(){var t,e=new Ys(function(r){t=r});return{token:e,cancel:t}};Aa.exports=Ys});var qa=y((Op,Fa)=>{"use strict";Fa.exports=function(t){return function(i){return t.apply(null,i)}}});var Da=y((Pp,La)=>{"use strict";La.exports=function(t){return typeof t=="object"&&t.isAxiosError===!0}});var Na=y((Ap,Fr)=>{"use strict";var ja=rt(),Xu=Xi(),Xs=Oa(),Zu=Or(),Qu=Js();function Ma(s){var t=new Xs(s),e=Xu(Xs.prototype.request,t);return ja.extend(e,Xs.prototype,t),ja.extend(e,t),e}var gt=Ma(Qu);gt.Axios=Xs;gt.create=function(t){return Ma(Zu(gt.defaults,t))};gt.Cancel=kr();gt.CancelToken=ka();gt.isCancel=Er();gt.all=function(t){return Promise.all(t)};gt.spread=qa();gt.isAxiosError=Da();Fr.exports=gt;Fr.exports.default=gt});var Ba=y((kp,Ia)=>{Ia.exports=Na()});var Lr=y(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.default=sf;var tf=ef(require("crypto"));function ef(s){return s&&s.__esModule?s:{default:s}}var Qs=new Uint8Array(256),Zs=Qs.length;function sf(){return Zs>Qs.length-16&&(tf.default.randomFillSync(Qs),Zs=0),Qs.slice(Zs,Zs+=16)}});var Ua=y(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.default=void 0;var rf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;ti.default=rf});var We=y(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.default=void 0;var nf=of(Ua());function of(s){return s&&s.__esModule?s:{default:s}}function af(s){return typeof s=="string"&&nf.default.test(s)}var hf=af;ei.default=hf});var $e=y(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.default=void 0;ze.unsafeStringify=Wa;var lf=cf(We());function cf(s){return s&&s.__esModule?s:{default:s}}var X=[];for(let s=0;s<256;++s)X.push((s+256).toString(16).slice(1));function Wa(s,t=0){return X[s[t+0]]+X[s[t+1]]+X[s[t+2]]+X[s[t+3]]+"-"+X[s[t+4]]+X[s[t+5]]+"-"+X[s[t+6]]+X[s[t+7]]+"-"+X[s[t+8]]+X[s[t+9]]+"-"+X[s[t+10]]+X[s[t+11]]+X[s[t+12]]+X[s[t+13]]+X[s[t+14]]+X[s[t+15]]}function uf(s,t=0){let e=Wa(s,t);if(!(0,lf.default)(e))throw TypeError("Stringified UUID is invalid");return e}var ff=uf;ze.default=ff});var $a=y(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.default=void 0;var df=mf(Lr()),pf=$e();function mf(s){return s&&s.__esModule?s:{default:s}}var za,Dr,jr=0,Mr=0;function gf(s,t,e){let i=t&&e||0,r=t||new Array(16);s=s||{};let n=s.node||za,o=s.clockseq!==void 0?s.clockseq:Dr;if(n==null||o==null){let f=s.random||(s.rng||df.default)();n==null&&(n=za=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),o==null&&(o=Dr=(f[6]<<8|f[7])&16383)}let h=s.msecs!==void 0?s.msecs:Date.now(),a=s.nsecs!==void 0?s.nsecs:Mr+1,c=h-jr+(a-Mr)/1e4;if(c<0&&s.clockseq===void 0&&(o=o+1&16383),(c<0||h>jr)&&s.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");jr=h,Mr=a,Dr=o,h+=122192928e5;let u=((h&268435455)*1e4+a)%4294967296;r[i++]=u>>>24&255,r[i++]=u>>>16&255,r[i++]=u>>>8&255,r[i++]=u&255;let l=h/4294967296*1e4&268435455;r[i++]=l>>>8&255,r[i++]=l&255,r[i++]=l>>>24&15|16,r[i++]=l>>>16&255,r[i++]=o>>>8|128,r[i++]=o&255;for(let f=0;f<6;++f)r[i+f]=n[f];return t||(0,pf.unsafeStringify)(r)}var wf=gf;si.default=wf});var Nr=y(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.default=void 0;var vf=yf(We());function yf(s){return s&&s.__esModule?s:{default:s}}function bf(s){if(!(0,vf.default)(s))throw TypeError("Invalid UUID");let t,e=new Uint8Array(16);return e[0]=(t=parseInt(s.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(s.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(s.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(s.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(s.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}var Sf=bf;ii.default=Sf});var Ir=y(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.URL=Xt.DNS=void 0;Xt.default=Rf;var _f=$e(),Cf=xf(Nr());function xf(s){return s&&s.__esModule?s:{default:s}}function Ef(s){s=unescape(encodeURIComponent(s));let t=[];for(let e=0;e<s.length;++e)t.push(s.charCodeAt(e));return t}var Ga="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Xt.DNS=Ga;var Ha="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Xt.URL=Ha;function Rf(s,t,e){function i(r,n,o,h){var a;if(typeof r=="string"&&(r=Ef(r)),typeof n=="string"&&(n=(0,Cf.default)(n)),((a=n)===null||a===void 0?void 0:a.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+r.length);if(c.set(n),c.set(r,n.length),c=e(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){h=h||0;for(let u=0;u<16;++u)o[h+u]=c[u];return o}return(0,_f.unsafeStringify)(c)}try{i.name=s}catch{}return i.DNS=Ga,i.URL=Ha,i}});var Va=y(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.default=void 0;var Tf=Of(require("crypto"));function Of(s){return s&&s.__esModule?s:{default:s}}function Pf(s){return Array.isArray(s)?s=Buffer.from(s):typeof s=="string"&&(s=Buffer.from(s,"utf8")),Tf.default.createHash("md5").update(s).digest()}var Af=Pf;ri.default=Af});var Ka=y(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.default=void 0;var kf=Ja(Ir()),Ff=Ja(Va());function Ja(s){return s&&s.__esModule?s:{default:s}}var qf=(0,kf.default)("v3",48,Ff.default),Lf=qf;ni.default=Lf});var Ya=y(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.default=void 0;var Df=jf(require("crypto"));function jf(s){return s&&s.__esModule?s:{default:s}}var Mf={randomUUID:Df.default.randomUUID};oi.default=Mf});var Qa=y(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.default=void 0;var Xa=Za(Ya()),Nf=Za(Lr()),If=$e();function Za(s){return s&&s.__esModule?s:{default:s}}function Bf(s,t,e){if(Xa.default.randomUUID&&!t&&!s)return Xa.default.randomUUID();s=s||{};let i=s.random||(s.rng||Nf.default)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){e=e||0;for(let r=0;r<16;++r)t[e+r]=i[r];return t}return(0,If.unsafeStringify)(i)}var Uf=Bf;ai.default=Uf});var th=y(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.default=void 0;var Wf=zf(require("crypto"));function zf(s){return s&&s.__esModule?s:{default:s}}function $f(s){return Array.isArray(s)?s=Buffer.from(s):typeof s=="string"&&(s=Buffer.from(s,"utf8")),Wf.default.createHash("sha1").update(s).digest()}var Gf=$f;hi.default=Gf});var sh=y(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.default=void 0;var Hf=eh(Ir()),Vf=eh(th());function eh(s){return s&&s.__esModule?s:{default:s}}var Jf=(0,Hf.default)("v5",80,Vf.default),Kf=Jf;li.default=Kf});var ih=y(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.default=void 0;var Yf="00000000-0000-0000-0000-000000000000";ci.default=Yf});var rh=y(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.default=void 0;var Xf=Zf(We());function Zf(s){return s&&s.__esModule?s:{default:s}}function Qf(s){if(!(0,Xf.default)(s))throw TypeError("Invalid UUID");return parseInt(s.slice(14,15),16)}var td=Qf;ui.default=td});var nh=y(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});Object.defineProperty(wt,"NIL",{enumerable:!0,get:function(){return nd.default}});Object.defineProperty(wt,"parse",{enumerable:!0,get:function(){return ld.default}});Object.defineProperty(wt,"stringify",{enumerable:!0,get:function(){return hd.default}});Object.defineProperty(wt,"v1",{enumerable:!0,get:function(){return ed.default}});Object.defineProperty(wt,"v3",{enumerable:!0,get:function(){return sd.default}});Object.defineProperty(wt,"v4",{enumerable:!0,get:function(){return id.default}});Object.defineProperty(wt,"v5",{enumerable:!0,get:function(){return rd.default}});Object.defineProperty(wt,"validate",{enumerable:!0,get:function(){return ad.default}});Object.defineProperty(wt,"version",{enumerable:!0,get:function(){return od.default}});var ed=Ot($a()),sd=Ot(Ka()),id=Ot(Qa()),rd=Ot(sh()),nd=Ot(ih()),od=Ot(rh()),ad=Ot(We()),hd=Ot($e()),ld=Ot(Nr());function Ot(s){return s&&s.__esModule?s:{default:s}}});var oh=y(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});var cd=Ba(),Br=require("fs"),ud=require("path"),fd=nh(),Ur=class{constructor(t){this.url="https://int.miaixyt.com",this.userPath="",this.user={id:"",active:""},this.explorer=t;try{this.userPath=ud.join(this.explorer.context.extensionPath,"asset/user.json");let e=Br.readFileSync(this.userPath,"utf-8"),i=new Date().getDate();e&&(this.user=JSON.parse(e));let r=!1;this.user.id?parseInt(this.user.active)!==i&&(r=!0,this.user.active=i.toString(),Br.writeFileSync(this.userPath,JSON.stringify(this.user),"utf-8")):(this.user.id=(0,fd.v4)(),this.user.active=i.toString(),Br.writeFileSync(this.userPath,JSON.stringify(this.user),"utf-8"),r=!0),r&&this.active()}catch(e){}}active(){cd.default.post(this.url+"/api/sm/addArticleReadLog",{device_id:this.user.id,platform:"IDE"})}};Wr.default=Ur});var Xr=y(dt=>{Object.defineProperty(dt,"__esModule",{value:!0});dt.activate=dt.outputChannel=void 0;var ah=require("vscode"),dd=Yr(),pd=ho(),md=lo(),gd=oh();function wd(s){dt.outputChannel=ah.window.createOutputChannel("vue-helper"),s.subscriptions.push(dt.outputChannel),dt.outputChannel.appendLine("vue-helper activating...");try{vd(s),dt.outputChannel.appendLine("vue-helper activated successfully")}catch(t){dt.outputChannel.appendLine("vue-helper activation failed: "+t.message),dt.outputChannel.appendLine(t.stack||""),dt.outputChannel.show(),ah.window.showErrorMessage("vue-helper activation failed: "+t.message)}}dt.activate=wd;function vd(s){let t=new dd.default(s);new pd.default(t).register(),new md.default(t).register(),new gd.default(t)}});module.exports=Xr();
